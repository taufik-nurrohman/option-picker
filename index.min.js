/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2021 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).OP=n()}(this,(function(){"use strict";var t=function(t){return Array.isArray(t)},n=function(t,n){return t&&i(n)&&t instanceof n},e=function(t){return"number"==typeof t},r=function(t,e){return void 0===e&&(e=!0),"object"==typeof t&&(!e||n(t,Object))},i=function(t){return function(t){return void 0!==t}(t)&&!function(t){return null===t}(t)},u=function(t){return"string"==typeof t},o=function n(e){if(t(e))return e.map((function(t){return n(e)}));if(r(e)){for(var i in e)e[i]=n(e[i]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},f=function(t){return t.replace(/[-_.](\w)/g,(function(t,n){return c(n)}))},c=function(t){return t.toUpperCase()},l=function(t){return t.length},a=function(t,n){return void 0===n&&(n=10),n?parseInt(t,n):parseFloat(t)},s=function(t){return Object.keys(t)},d=function n(e){if(t(e))return e.map((function(t){return n(t)}));if(function(t){return/^-?(?:\d*.)?\d+$/.test(t+"")}(e))return a(e);if(r(e)){for(var i in e)e[i]=n(e[i]);return e}return"false"!==e&&("null"===e?null:"true"===e||e)},p=document,v=window,h=p.body,g=p.documentElement,b=function(t,n){var r=t.children;return e(n)?r[n]||null:r||[]},m=function(t,n){void 0===n&&(n=!0);var e=(k(t,"className")||"").trim();return n?e.split(/\s+/):e},y=function(t){return t.parentNode||null},x=function(t,n,e){void 0===e&&(e=!0);var r=v.getComputedStyle(t).getPropertyValue(n);return e&&(r=d(r)),r||""===r||0===r?r:null},k=function(t,n){return O(t,n)&&t[n]||null},w=function(t,n){void 0===n&&(n=!0);var e="textContent";if(!O(t,e))return!1;var r=t[e];return""!==(r=n?r.trim():r)?r:null},E=function(t,n){return t.hasAttribute(n)},L=function(t,n){return t.classList.contains(n)},O=function(t,n){return n in t},T=function(t){return t===v},A=function(t,n){return t.removeAttribute(n),t},z=function(t,n){return t.classList.remove(n),t},C=function(t,n){return A(t,"data-"+n)},P=function(t,n){return t.style[f(n)]=null,t},H=function(t,n,e){return!0===e&&(e=n),t.setAttribute(n,o(e)),t},$=function(t,n){return t.append(n),n},N=function(t,n){return t.classList.add(n),t},S=function(n,e,i){return(t(i)||r(i))&&(i=JSON.stringify(i)),H(n,"data-"+e,i)},W=function(t,n,e){return t=u(t)?p.createElement(t):t,r(n)&&(e=n,n=!1),u(n)&&B(t,n),r(e)&&function(t,n){var e;for(var r in n)(e=n[r])||""===e||0===e?H(t,r,e):A(t,r)}(t,e),t},B=function(t,n,e){if(void 0===e&&(e=!0),null===n)return t;var r="innerHTML";return O(t,r)&&(t[r]=e?n.trim():n),t},D=function(t,n,r){return e(r)&&(r+="px"),t.style[f(n)]=o(r),t},I=function(t,n){var e;for(var r in n)(e=n[r])||""===e||0===e?D(t,r,e):P(t,r);return t},K=function(t,n,e){return t.classList.toggle(n,e),t},U=function(t,n,e){n.removeEventListener(t,e)},F=function(t){return t&&t.preventDefault()},J=function(t,n,e,r){void 0===r&&(r=!1),n.addEventListener(t,e,r)},M=function(t){return T(t)?[t.innerWidth,t.innerHeight]:[t.offsetWidth,t.offsetHeight]},R=function(t,n){return t.scrollLeft=n[0],t.scrollTop=n[1],t};function V(t){var n={};return t.hooks=n,t.fire=function(e,r){return i(n[e])?(n[e].forEach((function(n){return n.apply(t,r)})),t):t},t.off=function(e,r){if(!i(e))return n={},t;if(i(n[e]))if(i(r)){for(var u=0,o=n[e].length;u<o;++u)if(r===n[e][u]){n[e].splice(u,1);break}0===j&&delete n[e]}else delete n[e];return t},t.on=function(e,r){return i(n[e])||(n[e]=[]),i(r)&&n[e].push(r),t},t}function X(e,r={}){if(!e)return;const i=this;if(!n(i,X))return new X(e,r);if(e.OP)return;let{fire:u,hooks:f}=V(i);var c;function k(){return[d(j()),i.options]}function j(){if(ut){let t=[];for(let n=0,e=l(ft);n<e;++n)Y(ft[n])&&t.push(P(ft[n]));return t}let t=e.value;return""!==t?t:null}function P(t){let n=t.value||w(t);return""!==n?n:null}function Y(t){return E(t,"selected")}function _(t){A(t,"selected"),t.selected=!1}function q(t){z(t,"active")}function G(t){H(t,"selected",!0),t.selected=!0}function Q(t){N(t,"active")}function Z(t){t=t||"‌",pt.title=t.replace(/<.*?>/g,""),B(pt,t)}function tt(n){if(ut){let n,e=function(n){return t(n)?n:[n]}(n);for(let t=0,r=l(ft);t<r;++t)n=P(ft[t]),e.includes(d(n))?G(ft[t]):_(ft[t])}}i.state=r=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return Object.assign.apply(Object,[{}].concat(n))}(X.state,r),i.options={},i.source=e,X.instances[e.id||e.name||(c=X.instances,l(s(c)))]=i,e.OP=1;let nt=r.class,et=W(e,{class:nt+"-source",tabindex:-1}),rt=()=>et.disabled,it=b(et),ut=et.multiple,ot=0,ft=et.options,ct=r.parent||p,lt=et.size,at=et.title,st=j(),dt=W("div",{class:nt,tabindex:0,title:at}),pt=W("b","‌"),vt=W("div",{tabindex:-1}),ht=[],gt=!1,bt=!1;var mt,yt;function xt(){ut||lt||(z(dt,"open"),u("exit",k()))}function kt(t){K(dt,"open",t);let n=wt();return u(n?"enter":"exit",k()),n}function wt(){return L(dt,"open")}function Et(){dt.focus()}function Lt(t){if(rt())return;let n=this,e=n.$,i=st;st=n.v;let o,f,c,a=[];if(t&&t.isTrusted&&Et(),F(t),ut&&gt){!function(t){return L(t,"active")}(n)?(G(e),Q(n)):(_(e),q(n));for(let t=0,n=l(ft);t<n;++t)Y(ft[t])&&(o=w(ht[t]),f=ht[t].i,c=ht[t].v,o='<i class="'+m(ht[t],!1)+'" data-index="'+f+'"'+(E(ht[t],"data-value")?' data-value="'+c+'"':"")+">"+o+"</i>",a.push(o));return Z(a.join(r.join)),void u("change",k())}o=w(n),f=n.i,c=n.v,o='<i class="'+m(n,!1)+'" data-index="'+f+'"'+(E(n,"data-value")?' data-value="'+c+'"':"")+">"+o+"</i>",Z(o),ht.forEach((t=>{st===t.v?(G(t.$),Q(t)):(_(t.$),q(t))})),st!==i&&u("change",k())}function Ot(t){z(dt,"focus"),u("blur",k())}function jt(t){if(!rt())return lt?(N(dt,"open"),void u("enter",k())):void(kt()&&$t(dt))}function Tt(t){N(dt,"focus"),u("focus",k())}function At(t){gt=t.ctrlKey,bt=t.shiftKey;let n=t.key,e=et.selectedIndex,r=ht[e],i=t=>L(t,"lock"),u=t=>Lt.call(t),o=wt();if("ArrowDown"===n){for(;(r=ht[++e])&&i(r););r&&(u(r),kt(o)),F(t)}else if("ArrowUp"===n){for(;(r=ht[--e])&&i(r););r&&(u(r),kt(o)),F(t)}else if("End"===n){for(e=l(ft);(r=ht[--e])&&i(r););r&&(u(r),kt(o)),F(t)}else if("Enter"===n)kt(),F(t);else if("Escape"===n)!lt&&xt();else if("Home"===n){for(e=0;(r=ht[++e])&&i(r););r&&(u(r),kt(o)),F(t)}else"Tab"===n&&(r&&u(r),!lt&&xt());o&&!gt&&!bt&&$t(dt)}function zt(){gt=bt=!1}function Ct(t){let n=t.target;if(n!==dt)for(;(n=y(n))&&dt!==n;);dt!==n&&xt()}function Pt(){wt()&&$t(dt)}function Ht(n,e){if("optgroup"===function(t){return(t&&t.nodeName||"").toLowerCase()||null}(n)){let t=W("span"),r=b(n);t.title=n.label;for(let n=0,e=l(r);n<e;++n)Ht(r[n],t);return void $(e,t)}let r=function(t,n,e){if(void 0===e&&(e=!0),!E(t,n))return null;var r=t.getAttribute(n);return e?d(r):r}(n,"value",!1),u=r,o=w(n),f=W("a",o,{title:o});r=r||o,f.i=ot,f.$=n,f.v=r,function(t,n){var e;for(var r in n)(e=n[r])||""===e||0===e?S(t,r,e):C(t,r)}(f,{index:ot,value:u}),i.options[r]=o;let c=n.disabled;c?N(f,"lock"):J("click",f,Lt),$(e,f),ht.push(f),t(st)&&function(t,n){return-1!==n.indexOf(t)}(r,st)||r===st?(N(f,"active"),Z('<i class="active'+(c?" lock":"")+'" data-index="'+ot+'"'+(u?' data-value="'+u+'"':"")+">"+o+"</i>"),G(n)):_(n),++ot}function $t(t){let n=a(x(t,"border-top-width")),e=a(x(t,"border-bottom-width"));if(!lt){let[r,i,u,o]=function(t){var n,e,r,i,u,o,f;return T(t)?(i=t.pageXOffset||g.scrollLeft||h.scrollLeft,u=t.pageYOffset||g.scrollTop||h.scrollTop,r=t.innerWidth,n=t.innerHeight):(i=(e=t.getBoundingClientRect()).left,u=e.top,r=e.width,n=e.height,o=e.right,f=e.bottom),[i,u,r,n,o,f]}(t),f=M(v)[1],c=f-i-o;I(vt,{bottom:"",left:r,"max-height":c,top:i+o-n,width:u}),c<(f-o)/2?(c=i,I(vt,{top:"",bottom:f-i-e,"max-height":c+n}),N(vt,"up")):z(vt,"up")}let r=ht.find((t=>L(t,"active")));if(r){let t=M(r)[1],n=M(vt)[1],[e,i]=function(t){return[t.offsetLeft,t.offsetTop]}(r),u=function(t){return[t.scrollLeft,t.scrollTop]}(vt)[1];i<u?R(vt,[e,i]):i+t-n>u&&R(vt,[e,i+t-n])}u("fit",k())}ut&&!lt&&(et.size=lt=r.size),$(dt,pt),yt=dt,y(mt=et).insertBefore(yt,function(t){return t.nextElementSibling||null}(mt)),function(t,n,e,r){void 0===r&&(r=!1),t.forEach((function(t){return J(t,n,e,r)}))}(["resize","scroll"],v,Pt),J("click",ct,Ct),J("focus",et,Et),J("blur",dt,Ot),J("click",dt,jt),J("focus",dt,Tt),J("keydown",dt,At),J("keyup",dt,zt);let Nt=l(it);if(Nt){$(dt,vt);for(let t=0;t<Nt;++t)Ht(it[t],vt);if(lt){let t=ht[0],n=M(t)[1]*lt;D(vt,"max-height",n)}}return lt&&N(dt,"open"),i.get=(t=!0)=>{let n=j();return t?d(n):n},i.pop=()=>e.OP?(delete e.OP,function(t,n,e){t.forEach((function(t){return U(t,n,e)}))}(["resize","scroll"],v,Pt),U("click",ct,Ct),U("focus",et,Et),z(et,nt+"-source"),U("blur",dt,Ot),U("click",dt,jt),U("focus",dt,Tt),U("keydown",dt,At),U("keyup",dt,zt),function(t){var n="textContent";O(t,n)&&(t[n]="")}(dt),function(t){var n=y(t);t.remove()}(dt),u("pop",k())):i,i.set=t=>(tt(o(t)),ht.forEach(((t,n)=>{let e=ft[n];K(t,"active",e&&Y(e))})),u("change",k()),i),i.self=dt,i}return X.instances={},X.state={class:"option-picker",join:", ",parent:null,size:5},X.version="1.0.1",X}));