/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2021 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).OP=t()}(this,(function(){"use strict";var n=function(n){return Array.isArray(n)},t=function(n,t){return n&&i(t)&&n instanceof t},e=function(n){return"number"==typeof n},r=function(n,e){return void 0===e&&(e=!0),"object"==typeof n&&(!e||t(n,Object))},i=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},o=function(n){return"string"==typeof n},u=function t(e){if(n(e))return e.map((function(n){return t(e)}));if(r(e)){for(var i in e)e[i]=t(e[i]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},f=function(n){return n.replace(/[-_.](\w)/g,(function(n,t){return c(t)}))},c=function(n){return n.toUpperCase()},l=function(n){return n.length},s=function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)},a=function(n){return Object.keys(n)},d=function t(e){if(n(e))return e.map((function(n){return t(n)}));if(function(n){return/^-?(?:\d*.)?\d+$/.test(n+"")}(e))return s(e);if(r(e)){for(var i in e)e[i]=t(e[i]);return e}return"false"!==e&&("null"===e?null:"true"===e||e)},p=document,v=window,h=p.body,b=p.documentElement,g=function(n,t){var r=n.children;return e(t)?r[t]||null:r||[]},m=function(n,t){void 0===t&&(t=!0);var e=(w(n,"className")||"").trim();return t?e.split(/\s+/):e},y=function(n){return n.parentNode||null},x=function(n,t,e){void 0===e&&(e=!0);var r=v.getComputedStyle(n).getPropertyValue(t);return e&&(r=d(r)),r||""===r||0===r?r:null},w=function(n,t){return O(n,t)&&n[t]||null},k=function(n,t){void 0===t&&(t=!0);var e="textContent";if(!O(n,e))return!1;var r=n[e];return""!==(r=t?r.trim():r)?r:null},E=function(n,t){return n.hasAttribute(t)},L=function(n,t){return n.classList.contains(t)},O=function(n,t){return t in n},T=function(n){return n===v},A=function(n,t){return n.removeAttribute(t),n},z=function(n,t){return n.classList.remove(t),n},C=function(n,t){return A(n,"data-"+t)},P=function(n,t){return n.style[f(t)]=null,n},H=function(n,t,e){return!0===e&&(e=t),n.setAttribute(t,u(e)),n},$=function(n,t){return n.append(t),t},N=function(n,t){return n.classList.add(t),n},S=function(t,e,i){return(n(i)||r(i))&&(i=JSON.stringify(i)),H(t,"data-"+e,i)},W=function(n,t,e){return n=o(n)?p.createElement(n):n,r(t)&&(e=t,t=!1),o(t)&&_(n,t),r(e)&&function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?H(n,r,e):A(n,r)}(n,e),n},_=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="innerHTML";return O(n,r)&&(n[r]=e?t.trim():t),n},B=function(n,t,r){return e(r)&&(r+="px"),n.style[f(t)]=u(r),n},D=function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?B(n,r,e):P(n,r);return n},I=function(n,t,e){return n.classList.toggle(t,e),n},K=function(n,t,e){t.removeEventListener(n,e)},U=function(n){return n&&n.preventDefault()},F=function(n,t,e,r){void 0===r&&(r=!1),t.addEventListener(n,e,r)},J=function(n){return T(n)?[n.innerWidth,n.innerHeight]:[n.offsetWidth,n.offsetHeight]},M=function(n,t){return n.scrollLeft=t[0],n.scrollTop=t[1],n};function R(n){var t={};return n.hooks=t,n.fire=function(e,r){return i(t[e])?(t[e].forEach((function(t){return t.apply(n,r)})),n):n},n.off=function(e,r){if(!i(e))return t={},n;if(i(t[e]))if(i(r)){for(var o=0,u=t[e].length;o<u;++o)if(r===t[e][o]){t[e].splice(o,1);break}0===j&&delete t[e]}else delete t[e];return n},n.on=function(e,r){return i(t[e])||(t[e]=[]),i(r)&&t[e].push(r),n},n}function V(e,r={}){if(!e)return;const i=this;if(!t(i,V))return new V(e,r);if(e.OP)return;let{fire:o,hooks:f}=R(i);var c;function w(){return[d(j()),i.options]}function j(){if(pn){let n=[];for(let t=0,e=l(hn);t<e;++t)X(hn[t])&&n.push(P(hn[t]));return n}let n=e.value;return""!==n?n:null}function P(n){let t=n.value||k(n);return""!==t?t:null}function X(n){return E(n,"selected")}function Y(n){A(n,"selected"),n.selected=!1}function q(n){z(n,un+"selected")}function G(n){H(n,"selected",!0),n.selected=!0}function Q(n){N(n,un+"selected")}function Z(n){n=n||"‌",wn.title=n.replace(/<.*?>/g,""),_(wn,n)}function nn(t){if(pn){let t,e=function(t){return n(t)?t:[t]}(t);for(let n=0,r=l(hn);n<r;++n)t=P(hn[n]),e.includes(d(t))?G(hn[n]):Y(hn[n])}}i.state=r=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return Object.assign.apply(Object,[{}].concat(t))}({},V.state,r),i.options={},i.source=e,V.instances[e.id||e.name||(c=V.instances,l(a(c)))]=i,e.OP=1;let tn=r.class,en=tn+"__",rn=tn+"--",on=en+"option",un=on+"--",fn=en+"options",cn=en+"value",ln=en+"values",sn=W(e,{class:en+"source",tabindex:"-1"}),an=()=>sn.disabled,dn=g(sn),pn=sn.multiple,vn=0,hn=sn.options,bn=r.parent||p,gn=sn.size,mn=sn.title,yn=j(),xn=W("div",{class:tn,tabindex:"0",title:mn}),wn=W("div","‌",{class:ln}),kn=W("div",{class:fn,tabindex:"-1"}),En=[],Ln=!1,On=!1;var jn,Tn;function An(){pn||gn||(z(xn,rn+"open"),o("exit",w()))}function zn(n){I(xn,rn+"open",n);let t=Pn();return o(t?"enter":"exit",w()),t}function Cn(n,t,e,r){return'<span class="'+cn+" "+r+'" data-index="'+e+'"'+(t?' data-value="'+t+'"':"")+">"+n+"</span>"}function Pn(){return L(xn,rn+"open")}function Hn(){xn.focus()}function $n(n){if(an())return;let t=this,e=t.$,i=yn;yn=t.v;let u,f,c,s=[];if(n&&n.isTrusted&&Hn(),U(n),pn&&Ln){!function(n){return L(n,un+"selected")}(t)?(G(e),Q(t)):(Y(e),q(t));for(let n=0,t=l(hn);n<t;++n)X(hn[n])&&(u=k(En[n]),f=En[n].i,c=En[n].v,u=Cn(u,c,f,m(En[n],!1)),s.push(u));return Z(s.join("<span>"+r.join+"</span>")),void o("change",w())}u=k(t),f=t.i,c=t.v,u=Cn(u,c,f,m(t,!1)),Z(u),En.forEach((n=>{yn===n.v?(G(n.$),Q(n)):(Y(n.$),q(n))})),yn!==i&&o("change",w())}function Nn(n){z(xn,rn+"focus"),o("blur",w())}function Sn(n){if(!an())return gn?(N(xn,rn+"open"),void o("enter",w())):void(zn()&&Un(xn))}function Wn(n){N(xn,rn+"focus"),o("focus",w())}function _n(n){Ln=n.ctrlKey,On=n.shiftKey;let t=n.key,e=sn.selectedIndex,r=En[e],i=n=>L(n,un+"disabled"),o=n=>$n.call(n),u=Pn();if("ArrowDown"===t){for(;(r=En[++e])&&i(r););r&&(o(r),zn(u)),U(n)}else if("ArrowUp"===t){for(;(r=En[--e])&&i(r););r&&(o(r),zn(u)),U(n)}else if("End"===t){for(e=l(hn);(r=En[--e])&&i(r););r&&(o(r),zn(u)),U(n)}else if("Enter"===t)zn(),U(n);else if("Escape"===t)!gn&&An();else if("Home"===t){for(e=-1;(r=En[++e])&&i(r););r&&(o(r),zn(u)),U(n)}else"Tab"===t&&(r&&o(r),!gn&&An());u&&!Ln&&!On&&Un(xn)}function Bn(){Ln=On=!1}function Dn(n){let t=n.target;if(t!==xn)for(;(t=y(t))&&xn!==t;);xn!==t&&An()}function In(){Pn()&&Un(xn)}function Kn(t,e){if("optgroup"===function(n){return(n&&n.nodeName||"").toLowerCase()||null}(t)){let n=W("span",{class:on+"-group"+(t.disabled?" "+un+"disabled":"")}),r=g(t);n.title=t.label;for(let t=0,e=l(r);t<e;++t)Kn(r[t],n);return void $(e,n)}let r=function(n,t,e){if(void 0===e&&(e=!0),!E(n,t))return null;var r=n.getAttribute(t);return e?d(r):r}(t,"value",!1),o=r,u=k(t),f=t.title,c=W("a",u,{class:on,title:f||u});r=r||u,c.i=vn,c.$=t,c.v=r,function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?S(n,r,e):C(n,r)}(c,{index:vn,value:o}),i.options[r]=u;let s=t.disabled;s?N(c,un+"disabled"):F("click",c,$n),$(e,c),En.push(c),""===o&&(r=null),n(yn)&&function(n,t){return-1!==t.indexOf(n)}(r,yn)||r===yn?(N(c,un+"selected"),Z(Cn(u,o,vn,on+" "+(s?" "+un+"disabled":""))),G(t)):Y(t),++vn}function Un(n){let t=s(x(n,"border-top-width")),e=s(x(n,"border-bottom-width"));if(!gn){let[r,i,o,u]=function(n){var t,e,r,i,o,u,f;return T(n)?(i=n.pageXOffset||b.scrollLeft||h.scrollLeft,o=n.pageYOffset||b.scrollTop||h.scrollTop,r=n.innerWidth,t=n.innerHeight):(i=(e=n.getBoundingClientRect()).left,o=e.top,r=e.width,t=e.height,u=e.right,f=e.bottom),[i,o,r,t,u,f]}(n),f=J(v)[1],c=f-i-u;D(kn,{bottom:"",left:r,"max-height":c,top:i+u-t,width:o}),c<(f-u)/2?(c=i,D(kn,{top:"",bottom:f-i-e,"max-height":c+t}),z(n,rn+"down"),N(n,rn+"up")):(z(n,rn+"up"),N(n,rn+"down"))}let r=En.find((n=>L(n,un+"selected")));if(r){let n=J(r)[1],t=J(kn)[1],[e,i]=function(n){return[n.offsetLeft,n.offsetTop]}(r),o=function(n){return[n.scrollLeft,n.scrollTop]}(kn)[1];i<o?M(kn,[e,i]):i+n-t>o&&M(kn,[e,i+n-t])}o("fit",w())}pn&&!gn&&(sn.size=gn=r.size),$(xn,wn),Tn=xn,y(jn=sn).insertBefore(Tn,function(n){return n.nextElementSibling||null}(jn)),function(n,t,e,r){void 0===r&&(r=!1),n.forEach((function(n){return F(n,t,e,r)}))}(["resize","scroll"],v,In),F("click",bn,Dn),F("focus",sn,Hn),F("blur",xn,Nn),F("click",xn,Sn),F("focus",xn,Wn),F("keydown",xn,_n),F("keyup",xn,Bn);let Fn=l(dn);if(Fn){$(xn,kn);for(let n=0;n<Fn;++n)Kn(dn[n],kn);if(gn){let n=En[0],t=J(n)[1]*gn;B(kn,"max-height",t)}}return gn&&(N(xn,rn+"down"),N(xn,rn+"open")),i.get=(n=!0)=>{let t=j();return n?d(t):t},i.pop=()=>e.OP?(delete e.OP,function(n,t,e){n.forEach((function(n){return K(n,t,e)}))}(["resize","scroll"],v,In),K("click",bn,Dn),K("focus",sn,Hn),z(sn,en+"source"),K("blur",xn,Nn),K("click",xn,Sn),K("focus",xn,Wn),K("keydown",xn,_n),K("keyup",xn,Bn),function(n){var t="textContent";O(n,t)&&(n[t]="")}(xn),function(n){var t=y(n);n.remove()}(xn),o("pop",w())):i,i.set=n=>(nn(u(n)),En.forEach(((n,t)=>{let e=hn[t];I(n,un+"selected",e&&X(e))})),o("change",w()),i),i.self=xn,i}return V.instances={},V.state={class:"option-picker",join:", ",parent:null,size:5},V.version="1.2.1",V}));