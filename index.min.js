/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2022 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).OP=t()}(this,(function(){"use strict";var n=function(n,t){return-1!==t.indexOf(n)},t=function(n){return Array.isArray(n)},e=function(n,t){return n&&o(t)&&n instanceof t},r=function(n){return"number"==typeof n},i=function(n,t){return void 0===t&&(t=!0),"object"==typeof n&&(!t||e(n,Object))},o=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},u=function(n){return"string"==typeof n},f=function(n){return n.replace(/[-_.](\w)/g,(function(n,t){return c(t)}))},l=function(n){return n.toLowerCase()},c=function(n){return n.toUpperCase()},s=function(n){return n.length},a=function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)},d=function(n){return Object.keys(n)},p=function n(e){if(t(e))return e.map((function(t){return n(t)}));if(function(n){return/^-?(?:\d*.)?\d+$/.test(n+"")}(e))return a(e);if(i(e)){for(var r in e)e[r]=n(e[r]);return e}return"false"!==e&&("null"===e?null:"true"===e||e)},v=function e(){for(var r=arguments.length,u=Array(r),f=0;f<r;f++)u[f]=arguments[f];for(var l=u.shift(),c=0,a=s(u);c<a;++c)for(var d in u[c])if(o(l[d]))if(t(l[d])&&t(u[c][d])){l[d]=[].concat(l[d]);for(var p=0,v=s(u[c][d]);p<v;++p)n(u[c][d][p],l[d])||l[d].push(u[c][d][p])}else i(l[d])&&i(u[c][d])?l[d]=e({},l[d],u[c][d]):l[d]=u[c][d];else l[d]=u[c][d];return l},h=function n(e){if(t(e))return e.map((function(t){return n(e)}));if(i(e)){for(var r in e)e[r]=n(e[r]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},g=document,b=window,m=function(n,t){var e=n.children;return r(t)?e[t]||null:e||[]},y=function(n,t){void 0===t&&(t=!0);var e=(T(n,"className")||"").trim();return t?e.split(/\s+/).filter((function(n){return""!==n})):e},k=function(n){return l(n&&n.nodeName||"")||null},x=function(n,t){return t?n.closest(t)||null:n.parentNode||null},w=function(n,t,e){void 0===e&&(e=!0);var r=b.getComputedStyle(n).getPropertyValue(t);return e&&(r=p(r)),r||""===r||0===r?r:null},T=function(n,t){return A(n,t)&&n[t]||null},L=function(n,t){void 0===t&&(t=!0);var e="textContent";if(!A(n,e))return!1;var r=n[e];return""!==(r=t?r.trim():r)?r:null},E=function(n,t){return n.hasAttribute(t)},O=function(n,t){return n.classList.contains(t)},A=function(n,t){return t in n},$=function(n,t){return n.removeAttribute(t),n},C=function(n,t){return n.classList.remove(t),n},P=function(n,t){return $(n,"data-"+t)},z=function(n,t){return n.style[f(t)]=null,n},H=function(n,t,e){return!0===e&&(e=t),n.setAttribute(t,h(e)),n},N=function(n,t){return n.append(t),t},R=function(n,t){return n.classList.add(t),n},S=function(n,e,r){return(t(r)||i(r))&&(r=JSON.stringify(r)),H(n,"data-"+e,r)},B=function(n,t,e){return n=u(n)?g.createElement(n):n,i(t)&&(e=t,t=!1),u(t)&&I(n,t),i(e)&&function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?H(n,r,e):$(n,r)}(n,e),n},I=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="innerHTML";return A(n,r)&&(n[r]=e?t.trim():t),n},W=function(n,t,e){return r(e)&&(e+="px"),n.style[f(t)]=h(e),n},_=function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?W(n,r,e):z(n,r);return n},D=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="textContent";return A(n,r)&&(n[r]=e?t.trim():t),n},K=function(n,t,e){return n.classList.toggle(t,e),n},M=document,U=window,F=M.body,J=M.documentElement,V=function(n){return n===U},X=function(n){return V(n)?[n.innerWidth,n.innerHeight]:[n.offsetWidth,n.offsetHeight]},Y=function(n,t){return n.scrollLeft=t[0],n.scrollTop=t[1],n};function q(n){var t={};return n.hooks=t,n.fire=function(e,r){return o(t[e])?(t[e].forEach((function(t){return t.apply(n,r)})),n):n},n.off=function(e,r){if(!o(e))return t={},n;if(o(t[e]))if(o(r)){for(var i=0,u=t[e].length;i<u;++i)if(r===t[e][i]){t[e].splice(i,1);break}0===j&&delete t[e]}else delete t[e];return n},n.on=function(e,r){return o(t[e])||(t[e]=[]),o(r)&&t[e].push(r),n},n}var G=function(n,t,e){t.removeEventListener(n,e)},Q=function(n){return n&&n.preventDefault()},Z=function(n,t,e,r){void 0===r&&(r=!1),t.addEventListener(n,e,r)};const nn="Enter",tn="Escape",en="‌";function rn(n){let t=g.createRange();t.selectNodeContents(n);let e=b.getSelection();e.removeAllRanges(),e.addRange(t)}function on(r,i={}){const o=this;if(!r)return o;if(r.OP)return r.OP;if(!e(o,on))return new on(r,i);let{fire:u,hooks:f}=q(o);var c;function T(){return[p(j()),o.options]}function j(){if(An){let n=[];for(let t=0,e=s(jn);t<e;++t)M(jn[t])&&n.push(z(jn[t]));return n}let n=r.value;return""!==n?n:null}function z(n){let t=n.value||L(n);return""!==t?t:null}function M(n){return E(n,"selected")}function U(n){$(n,"selected"),n.selected=!1}function un(n){C(n,gn+"selected")}function fn(n){H(n,"selected",!0),n.selected=!0}function ln(n){R(n,gn+"selected")}function cn(n){n=n||en,Rn.title=n.replace(/<.*?>/g,""),I(Rn,n)}function sn(n){if(An){let n,e=function(n){return t(n)?n:[n]}(n);for(let t=0,r=s(jn);t<r;++t)n=z(jn[t]),e.includes(p(n))?fn(jn[t]):U(jn[t])}else r.value=n}o.state=i=v({},on.state,i),o.options={},o.source=r,on.instances[r.id||r.name||(c=on.instances,s(d(c)))]=o,r.OP=o;let an=i.class,dn=an+"__",pn=an+"--",vn=dn+"input",hn=dn+"option",gn=hn+"--",bn=dn+"options",mn=dn+"value",yn=dn+"values",kn=B(r,{class:dn+"source",tabindex:-1}),xn="input"===k(kn)?B("span","",{class:vn}):null,wn=xn?r.placeholder:"",Tn=B("span",wn),Ln=B("span","",{contenteditable:"",tabindex:0}),En=()=>kn.disabled,On=m(kn),An=kn.multiple,$n=0,jn=kn.options,Cn=i.parent||g,Pn=kn.size,zn=kn.title,Hn=j(),Nn=B("div",{class:an,tabindex:!xn&&!En()&&0,title:zn}),Rn=B("div",en,{class:yn}),Sn=kn.list,Bn=0,In=0,Wn=B("div",{class:bn,tabindex:-1}),_n=[],Dn=!1,Kn=!1;var Mn,Un;function Fn(){C(Nn,pn+"focus"),u("blur",T())}function Jn(){R(Nn,pn+"focus"),u("focus",T())}function Vn(){R(Nn,pn+"open"),u("enter",T())}function Xn(){An||Pn||(C(Nn,pn+"open"),u("exit",T()))}function Yn(){Bn=a(w(Nn,"border-bottom-width")),In=a(w(Nn,"border-top-width")),yt(Nn)}function qn(n){K(Nn,pn+"open",n);let t=Qn();return u(t?"enter":"exit",T()),t}function Gn(n,t,e,r){return B("span",n,{class:mn+" "+r,"data-index":t,"data-value":e}).outerHTML}function Qn(){return O(Nn,pn+"open")}function Zn(){(xn?Ln:Nn).focus()}function nt(n){if(En())return;let t,e,r,o=[],f=this,l=f.$,c=Hn;if($n=f.i,Hn=f.v,n&&n.isTrusted&&Zn(),Q(n),An&&(Dn||Kn)){!function(n){return O(n,gn+"selected")}(f)?(fn(l),ln(f)):(U(l),un(f));for(let n,i=0,u=s(jn);i<u;++i)M(jn[i])&&(t=L(n=_n[i]),e=n.i,r=n.v,o.push(Gn(t,e,r,y(n,!1))));return cn(o.join("<span>"+i.join+"</span>")),void u("change",T())}t=L(f),e=f.i,r=f.v,t&&xn&&(I(Tn,en),D(Ln,t)),cn(Gn(t,e,r,y(f,!1))),xn&&(rn(Ln),sn(t)),_n.forEach((n=>{Hn===n.v?(fn(n.$),ln(n)):(U(n.$),un(n))})),Hn!==c&&u("change",T())}function tt(n){Fn()}function et(n){if(!En()){if($n=kn.selectedIndex,Pn)return Vn();xn?Ln.focus():qn()&&Yn()}}function rt(n){$n=kn.selectedIndex,Jn()}function it(n){Dn=n.ctrlKey,Kn=n.shiftKey;let t=n.key,e=$n,r=_n[e],i=n=>O(n,gn+"disabled"),o=n=>nt.call(n),u=Qn();if("ArrowDown"===t){for(;(r=_n[++e])&&(i(r)||r.hidden););r&&(o(r),qn(u)),Q(n)}else if("ArrowUp"===t){for(;(r=_n[--e])&&(i(r)||r.hidden););r&&(o(r),qn(u)),Q(n)}else if("End"===t){for(e=s(jn);(r=_n[--e])&&(i(r)||r.hidden););r&&(o(r),qn(u)),Q(n)}else if(nn===t)r&&o(r),qn(),Q(n);else if(tn===t)!Pn&&Xn();else if("Home"===t){for(e=-1;(r=_n[++e])&&(i(r)||r.hidden););r&&(o(r),qn(u)),Q(n)}else"Tab"===t&&(r&&o(r),!Pn&&Xn());Qn()&&!Dn&&!Kn&&Yn()}function ot(){Dn=Kn=!1}function ut(){Fn()}function ft(){let n,t,e=L(this);$n=-1,rn(this);for(let r=0,i=s(jn);r<i;++r)n=jn[r],t=_n[r],e===L(n)?($n=r,fn(n),ln(t)):(U(n),un(t));Jn(),qn()&&Yn()}xn&&Sn&&(On=m(Sn),jn=Sn.options,Pn=null),An&&!Pn&&(kn.size=Pn=i.size),xn&&(N(xn,Ln),N(xn,Tn)),N(Nn,xn||Rn),Un=Nn,x(Mn=kn).insertBefore(Un,function(n,t){return n.nextSibling||null}(Mn));let lt=(ct=(n,t)=>{let e,r=L(n),i=t&&1===s(t);if(null===r){I(Tn,wn);for(let n=0,t=s(_n);n<t;++n)I(e=_n[n],L(e)),e.hidden=!1}else if(I(Tn,en),i||"Backspace"===t){let n;r=l(r);for(let t,i=0,o=s(_n);i<o;++i)U((e=_n[i]).$),un(e),t=L(e),t&&l(t).includes(r)?(!n&&(n=e),I(e,t.replace(RegExp(r.replace(/[!$^*()+=[]{}|:<>,.?\/-]/g,"\\$&"),"gi"),(n=>"<mark>"+n+"</mark>"))),e.hidden=!1):(I(e,t),e.hidden=!0);n&&($n=n.i,fn(n.$),ln(n))}nn!==t&&tn!==t&&"Tab"!==t&&(Vn(),Yn())},st=0,function(){var n=arguments,t=this;at&&clearTimeout(at),at=setTimeout((function(){return ct.apply(t,n)}),st)});var ct,st,at;function dt(n){let t=n.key;it(n),lt(this,t)}function pt(){ot()}let vt=function(n,t){return function(){var e=arguments,r=this;setTimeout((function(){return n.apply(r,e)}),t)}}(((n,t)=>{let e=L(n);I(t,null!==e?en:wn),D(n,e),rn(n)}),0);function ht(){vt(Ln,Tn)}function gt(n){let t=n.target;if(t!==Nn)for(;(t=x(t))&&Nn!==t;);Nn!==t&&Xn()}function bt(){Qn()&&yt(Nn,1)}function mt(e,r){if("optgroup"===k(e)){let n=B("span",{class:hn+"-group"+(e.disabled?" "+gn+"disabled":"")}),t=m(e);n.title=e.label;for(let e=0,r=s(t);e<r;++e)mt(t[e],n);return void N(r,n)}let i=function(n,t,e){if(void 0===e&&(e=!0),!E(n,t))return null;var r=n.getAttribute(t);return e?p(r):r}(e,"value",!1),u=i,f=L(e),l=e.title,c=B("a",f,{class:hn,title:l||f});i=i||f,c.i=$n,c.$=e,c.v=i,function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?S(n,r,e):P(n,r)}(c,{index:$n,value:u}),o.options[i]=f,e.disabled?R(c,gn+"disabled"):Z("click",c,nt),N(r,c),_n.push(c),""===u&&(i=null),t(Hn)&&n(i,Hn)||i===Hn?(R(c,gn+"selected"),cn(Gn(f,$n,u,y(c,!1))),fn(e)):U(e),++$n}function yt(n,t){if(!Pn){let[t,e,r,i]=function(n){var t,e,r,i,o,u,f;return V(n)?(i=n.pageXOffset||J.scrollLeft||F.scrollLeft,o=n.pageYOffset||J.scrollTop||F.scrollTop,r=n.innerWidth,t=n.innerHeight):(i=(e=n.getBoundingClientRect()).left,o=e.top,r=e.width,t=e.height,u=e.right,f=e.bottom),[i,o,r,t,u,f]}(n),o=X(b)[1],u=o-e-i;_(Wn,{bottom:"",left:t,"max-height":u,top:e+i-In,width:r}),u<(o-i)/2?(u=e,_(Wn,{top:"",bottom:o-e-Bn,"max-height":u+In}),C(n,pn+"down"),R(n,pn+"up")):(C(n,pn+"up"),R(n,pn+"down"))}if(!t){let n=_n.find((n=>O(n,gn+"selected")));if(n){let t=X(n)[1],e=X(Wn)[1],[r,i]=function(n){return[n.offsetLeft,n.offsetTop]}(n),o=function(n){return[n.scrollLeft,n.scrollTop]}(Wn)[1];i<o?Y(Wn,[r,i]):i+t-e>o&&Y(Wn,[r,i+t-e])}}u("fit",T())}!function(n,t,e,r){void 0===r&&(r=!1),n.forEach((function(n){return Z(n,t,e,r)}))}(["resize","scroll"],b,bt),Z("click",Cn,gt),Z("focus",kn,Zn),Z("click",Nn,et),xn?(Z("blur",Ln,ut),Z("focus",Ln,ft),Z("keydown",Ln,dt),Z("keyup",Ln,pt),Z("paste",Ln,ht)):(Z("blur",Nn,tt),Z("focus",Nn,rt),Z("keydown",Nn,it),Z("keyup",Nn,ot));let kt=s(On);if(kt){N(Nn,Wn);for(let n=0;n<kt;++n)mt(On[n],Wn);if(Pn){let n=_n[0],t=X(n)[1]*Pn;W(Wn,"max-height",t)}}return Pn&&(R(Nn,pn+"down"),R(Nn,pn+"open")),o.get=(n=!0)=>{let t=j();return n?p(t):t},o.pop=()=>r.OP?(delete r.OP,function(n,t,e){n.forEach((function(n){return G(n,t,e)}))}(["resize","scroll"],b,bt),G("click",Cn,gt),G("focus",kn,Zn),C(kn,dn+"source"),G("click",Nn,et),xn?(G("blur",Ln,ut),G("focus",Ln,ft),G("keydown",Ln,dt),G("keyup",Ln,pt),G("paste",Ln,ht)):(G("blur",Nn,tt),G("focus",Nn,rt),G("keydown",Nn,it),G("keyup",Nn,ot)),function(n){var t="textContent";A(n,t)&&(n[t]="")}(Nn),function(n){var t=x(n);n.remove()}(Nn),u("pop",T())):o,o.set=n=>(sn(h(n)),_n.forEach(((n,t)=>{let e=jn[t];K(n,gn+"selected",e&&M(e))})),u("change",T()),o),o.self=Nn,o}return on.instances={},on.state={class:"option-picker",join:", ",parent:null,size:5},on.version="1.3.3",on}));