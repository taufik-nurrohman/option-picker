/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2025 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).OptionPicker=t()}(this,(function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,n,r){if(n&&!Array.isArray(n)&&"number"==typeof n.length){var i=n.length;return e(n,r<i?r:i)}return t(n,r)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,u,o,a=[],l=!0,s=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=u.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){s=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,n){if(t){if("string"==typeof t)return e(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}var u=function(e){return Array.isArray(e)},o=function(e){return c(e)&&0!=e%1},a=function(e){return"function"==typeof e},l=function(e,t,n){return!(!e||"object"!=typeof e)&&(n?d(t)&&d(e.constructor)&&t===e.constructor:d(t)&&e instanceof t)},s=function(e){return c(e)&&0==e%1},c=function(e){return"number"==typeof e},f=function(e,t){return void 0===t&&(t=!0),!(!e||"object"!=typeof e)&&(!t||l(e,Object,1))},d=function(e){return function(e){return void 0!==e}(e)&&!function(e){return null===e}(e)},v=function(e){return"string"==typeof e},p=function(e,t){return-1!==t.indexOf(e)},h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.shift(),i=0,o=x(t);i<o;++i)for(var a in t[i])if(d(r[a]))if(u(r[a])&&u(t[i][a])){r[a]=[].concat(r[a]);for(var l=0,s=x(t[i][a]);l<s;++l)p(t[i][a][l],r[a])||r[a].push(t[i][a][l])}else f(r[a])&&f(t[i][a])?r[a]=h({},r[a],t[i][a]):r[a]=t[i][a];else r[a]=t[i][a];return r},m=function(e){if(u(e))return e.map((function(t){return m(e)}));if(f(e)){for(var t in e)e[t]=m(e[t]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},b=function(e){return e.replace(/[-_.](\w)/g,(function(e,t){return g(t)}))},_=function(e){return e.toLowerCase()},g=function(e){return e.toUpperCase()},x=function(e){return e.length},y=function(e){return e.size},k=function(e){if(u(e))return e.map((function(e){return k(e)}));if(f(e)){for(var t in e)e[t]=k(e[t]);return e}return v(e)&&function(e){return/^[+-]?(?:\d*\.)?\d+$/.test(e+"")}(e)?"0"===e[0]&&-1===e.indexOf(".")?e:function(e,t){return void 0===t&&(t=10),t?parseInt(e,t):parseFloat(e)}(e):"false"!==e&&("null"===e?null:"true"===e||e)},w=function(e,t){for(var n,r=0,i=x(e);r<i;++r)if(-1!==(n=t(e[r],r))){if(0===n)break}else e.splice(r,1);return e},$=function(e,i){for(var u,o=t(e);!(u=o()).done;){var a=n(r,u.value,2),l=a[0],s=a[1];if(-1!==(s=i(s,l))){if(0===s)break}else C(l,e)}return e},A=function(e,t){var n;for(var r in e)if(-1!==(n=t(e[r],r))){if(0===n)break}else delete e[r];return e},S=function(e,i){for(var u,o=t(e.entries());!(u=o()).done;){var a=n(r,u.value,2),l=a[0],s=a[1];if(-1!==(s=i(s,l))){if(0===s)break}else C(l,e)}return e},z=function(e){return e.prototype},T=function(e){return O(e,P)||null},O=function(e,t){return t.get(e)},E=function(e,t){return t.has(e)},L=function(e){return C(e,P)},C=function(e,t){return t.delete(e)},K=function(e,t){return a(e.getAnimations)?Promise.all(e.getAnimations().map((function(e){return e.finished}))).then(t):t(),e},j=function(e,t,n){return n||(e=z(e)),A(t,(function(t,n){Object.defineProperty(e,n,t)})),e},I=function(e,t,n){return e=z(e),A(t,(function(t,n){e[n]=t})),e},N=function(e,t){return q(e,t,P)},q=function(e,t,n){return n.set(e,t)},M=function(e){var t=[];return $(e,(function(e){t.push(e)})),t},P=new WeakMap;var R=document,D=window,H=R.body,B=R.documentElement,U=function(e,t,n){return void 0===n&&(n=!0),Y(e,"aria-"+t,n)},Y=function(e,t,n){if(void 0===n&&(n=!0),!fe(e,t))return null;var r=e.getAttribute(t);return n?k(r):r},F=function(e,t){return e["first"+(t?"":"Element")+"Child"]||null},J=function(e,t){return e["last"+(t?"":"Element")+"Child"]||null},V=function(e,t,n){var r,i=(r=e["child"+(n?"Nodes":"ren")],Array.from(r));return c(t)?i[t]||null:i},W=function(e,t,n){void 0===n&&(n=!0);var r=Y(e,"data-"+t,n),i=(r+"").trim();return n&&i&&("["===i[0]&&"]"===i.slice(-1)||"{"===i[0]&&"}"===i.slice(-1))&&null!==(i=function(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t}(r))?i:r},X=function(e,t){return(t||R).querySelector(e)},G=function(e,t){if(!e||!ne(e))return-1;for(var n=0;e=ie(e,t);)++n;return n},Q=function(e,t){void 0===t&&(t=!0);var n="innerHTML";if(!ve(e,n))return!1;var r=e[n];return""!==(r=t?r.trim():r)?r:null},Z=function(e,t){return void 0===t&&(t="e:"),de(e)?Y(e,"id"):(d(Pe[t])||(Pe[t]=0),t+(n=Date.now()+(Pe[t]+=1),r=16,c(n)?n.toString(r):""+n));var n,r},ee=function(e){return _(e&&e.nodeName||"")||null},te=function(e,t){return e["next"+(t?"":"Element")+"Sibling"]||null},ne=function(e,t){return t?e.closest(t)||null:e.parentNode||null},re=function(e){var t="form";return ve(e,t)&&t===ee(e[t])?e[t]:ne(e,t)},ie=function(e,t){return e["previous"+(t?"":"Element")+"Sibling"]||null},ue=function(e){return Y(e,"role")},oe=function(e,t,n){var r=D.getComputedStyle(e).getPropertyValue(t);return r||""===r||0===r?r:null},ae=function(e,t){return ve(e,t)&&e[t]||null},le=function(e,t){void 0===t&&(t=!0);var n="textContent";if(!ve(e,n))return!1;var r=e[n];return""!==(r=t?r.trim():r)?r:null},se=function(e){return e&&e.nodeType||null},ce=function(e,t){var n=(e.value||"").replace(/\r?\n|\r/g,"\n");return""!==(n=t?k(n):n)?n:null},fe=function(e,t){return e.hasAttribute(t)},de=function(e){return fe(e,"id")},ve=function(e,t){return t in e},pe=function(e){return e.disabled},he=function(e){return e.readOnly},me=function(e,t){return be(e,"aria-"+t)},be=function(e,t){return e.removeAttribute(t),e},_e=function(e,t){return e.classList.remove(t),e},ge=function(e,t){return be(e,"data-"+t)},xe=function(e){var t=ne(e);return e.remove(),t},ye=function(e,t){return e.style[b(t)]=null,e},ke=function(e,t,n){return we(e,"aria-"+t,!0===n?"true":n)},we=function(e,t,n){return!0===n&&(n=t),e.setAttribute(t,m(n)),e},$e=function(e,t){return A(t,(function(t,n){return"aria"===n&&f(t)?(function(e,t){A(t,(function(t,n){t||""===t||0===t?ke(e,n,t):me(e,n)}))}(e,t),1):"class"===n?(ze(e,t),1):"data"===n&&f(t)?(Te(e,t),1):"style"===n&&f(t)?(Ne(e,t),1):void(t||""===t||0===t?we(e,n,t):be(e,n))})),e},Ae=function(e,t){return e.append(t),t},Se=function(e,t){return e.classList.add(t),e},ze=function(e,t){return u(t)?(w(t,(function(t){return Se(e,t)})),e):f(t)?(A(t,(function(t,n){return t?Se(e,n):_e(e,n)})),e):(e.className=t,e)},Te=function(e,t){return A(t,(function(t,n){t||""===t||0===t?Oe(e,n,t):ge(e,n)})),e},Oe=function(e,t,n){return(u(n)||f(n))&&(n=JSON.stringify(n)),we(e,"data-"+t,!0===n?"true":n)},Ee=function(e,t,n,r){return e=v(e)?R.createElement(e,v(r)?{is:r}:r):e,u(t)&&x(t)?(!function(e){var t="innerHTML";ve(e,t)&&(e[t]="")}(e),w(t,(function(e){return Ae(v(e)?Le(e):e)}))):f(t)&&(n=t,t=!1),v(t)&&Ce(e,t),f(n)?($e(e,n),e):e},Le=function(e){return v(e)&&(e=R.createTextNode(e)),e},Ce=function(e,t,n){if(void 0===n&&(n=!0),null===t)return e;var r="innerHTML";return ve(e,r)&&(e[r]=n?t.trim():t),e},Ke=function(e,t,n){return void 0===n&&(n="e:"),we(e,"id",d(t)?t:Z(e,n))},je=function(e,t){return ne(e).insertBefore(t,te(e,!0)),t},Ie=function(e,t,n){return c(n)&&(n+="px"),e.style[b(t)]=m(n),e},Ne=function(e,t){return A(t,(function(t,n){t||""===t||0===t?Ie(e,n,t):ye(e,n)})),e},qe=function(e,t,n){if(void 0===n&&(n=!0),null===t)return e;var r="textContent";return ve(e,r)&&(e[r]=n?t.trim():t),e},Me=function(e,t){return null===t?be(e,"value"):(e.value=m(t),e)},Pe={},Re=function(){return R.getSelection()},De=function(){return R.createRange()},He=function(e,t){return(t=t||Re()).empty(),t},Be=function(e,t,n){var r=0,i=De();i.setStart(e,0),i.collapse(!0);for(var u,o,a,l=[e];!u&&(a=l.pop());)if(3===se(a)){var s=r+x(a);!o&&t[0]>=r&&t[0]<=s&&(i.setStart(a,t[0]-r),o=!0),o&&t[1]>=r&&t[1]<=s&&(u=!0,i.setEnd(a,t[1]-r)),r=s}else w(V(a,null,1),(function(e){return l.push(e)}));return Fe(e,i,He(0,n))},Ue=function(e,t,n){n=n||Re(),He(0,n);var r=De();r.selectNodeContents(e),n=Fe(e,r,n),1===t?n.collapseToEnd():-1===t&&n.collapseToStart()},Ye=function(e){return(e=e||Re()).rangeCount&&e.removeRange(e.getRangeAt(0)),e},Fe=function(e,t,n){return n=n||Re(),u(t)?Be(e,t,n):(n.addRange(t),n)},Je=function(e,t){var n;return function(){var r=arguments,i=this;n&&clearTimeout(n),n=setTimeout((function(){return e.apply(i,r)}),t)}},Ve=function(e,t){return function(){var n=arguments,r=this;setTimeout((function(){return e.apply(r,n)}),t)}},We=function(e){var t,n,r,i,u,o,a;return!function(e){return e===D}(e)?(i=(n=e.getBoundingClientRect()).left,u=n.top,r=n.width,t=n.height,o=n.right,a=n.bottom):(i=e.pageXOffset||B.scrollLeft||H.scrollLeft,u=e.pageYOffset||B.scrollTop||H.scrollTop,r=e.innerWidth,t=e.innerHeight),[i,u,r,t,o,a]};var Xe,Ge,Qe=function(e,t,n){t.removeEventListener(e,n)},Ze=function(e){return e&&e.preventDefault()},et=function(e){return e&&e.stopPropagation()},tt=function(e,t,n,r){void 0===r&&(r=!1),t.addEventListener(e,n,r)},nt="down",rt="move",it="blur",ut="focus",ot="key"+nt,at="keyup",lt="mouse",st=lt+nt,ct=lt+rt,ft=lt+"up",dt="paste",vt="reset",pt="resize",ht="scroll",mt="submit",bt="touch",_t=bt+"end",gt=bt+rt,xt=bt+"start",yt="Down",kt="Arrow",wt=kt+yt,$t=kt+"Left",At=kt+"Right",St=kt+"Up",zt="Backspace",Tt="Delete",Ot="Enter",Et="Escape",Lt="Page",Ct=Lt+yt,Kt=Lt+"Up",jt="Tab",It="false",Nt="true",qt=Je((function(e,t,n,r){var i,u=v(t)?t:le(t)||"",o=_(u),s=e._mask,c=e.mask,f=e.self,d=e.state,h=s.options,m=d.strict,b=n.count();r?$(n,(function(t){var n=_(le(t[2])+"\t"+Yt(t[2]));if(""!==o&&o===n.slice(0,x(o))&&!U(t[2],"disabled"))return Tn(t[2],e),0;--b})):($(n,(function(e){var t=_(le(e[2])+"\t"+Yt(e[2]));""===o||p(o,t)?e[2].hidden=!1:(e[2].hidden=!0,--b)})),h.hidden=!b,En(e),m?b&&""!==o&&(i=Wt(e))?(ke(i,"selected",!0),i.$[0].selected=!0,Me(f,Yt(i))):Me(f,""):Me(f,u)),e.fire("search",[u=""!==u?u:null]);var g=d.options;0===b&&a(g)&&(ke(c,"busy",!0),g=g.call(e,u),l(g,Promise)?g.then((function(t){Pt(e,t),me(c,"busy"),e.fire("load",[u,e.values])[Wt(e)?"enter":"exit"]().fit()})):Pt(e,g))}),10),Mt="OptionPicker";function Pt(e,t){var n=l(t,Map)?t:new Map;u(t)?w(t,(function(e){var t,r,i;u(e)?(e[0]=null!=(t=e[0])?t:"",e[1]=null!=(r=e[1])?r:{},q(k(null!=(i=e[1].value)?i:e[0]),e,n)):q(k(e),[e,{}],n)})):f(t,0)&&A(t,(function(e,r){var i,o,a;u(e)?(t[r][0]=null!=(i=e[0])?i:"",t[r][1]=null!=(o=e[1])?o:{},q(k(null!=(a=e[1].value)?a:r),e,n)):q(k(r),[e,{}],n)}));var r=e._options,i=e.self,o=e.state;o.n;var s=[],c=ce(i);if(r.delete(null,0,0),$(n,(function(e,t){var n,i;u(e)&&e[1]&&(!ae(e[1],"active")||e[1].active)&&e[1].mark&&s.push(null!=(i=e[1].value)?i:t);r.set(k(u(e)&&e[1]&&null!=(n=e[1].value)?n:t),e,0)})),a(o.options)||(o.options=n),0===x(s)){if(E(k(c),n))return[c];if(c=Ut(e))return[Yt(c)]}return s}function Rt(e){return e.focus(),e}function Dt(e,t){if(e)return Rt(e),e}function Ht(e,t){var n;if(n=Wt(e,t))return Dt(n)}function Bt(e){return Ht(e,"Last")}function Ut(e,t){var n,r=e._options,i=e.self;return $(r,(function(e,t){if(u(e)&&e[2]&&!U(e[2],"disabled")&&U(e[2],"selected"))return n=e[2],0})),d(n)||!t&&Xt(i)||$(r,(function(e,t){return n=e[2],0})),n}function Yt(e,t){return ce(e,t)}function Ft(e){var t,n,r,i=new Map,u=ce(e);return n=Xt(e)?(r=e.list)?V(r):[]:V(r=e),w(n,(function(e,t){var n=function(e,t){void 0===t&&(t=!0);var n=e.attributes,r={};return w(n,(function(e){var n=e.name,i=e.value;r[n]=t?k(i):i})),r}(e);n.active=!0,n.mark=!1,ve(n,"disabled")?(n.active=""!==n.disabled&&!!n.disabled,delete n.disabled):ve(n,"selected")&&(n.mark=""===n.selected||!!n.selected,delete n.selected),"optgroup"===ee(e)?$(Ft(e),(function(t,n){t[1]["&"]=e.label,q(k(n),t,i)})):q(k(e.value),[le(e)||e.value,n,null,e],i)})),0===x([])&&(t=O(u=k(u),i))&&(t[1].mark=!0,q(u,t,i)),i}function Jt(e,t){return e.map((function(e){return Yt(e,t)}))}function Vt(e){var t=e._options,n=[];return $(t,(function(e,t){u(e)&&e[2]&&!U(e[2],"disabled")&&U(e[2],"selected")&&n.push(e[2])})),n}function Wt(e,t){var n,r=e._options;if(n=M(r)["find"+(t||"")]((function(e){return!U(e[2],"disabled")&&!e[2].hidden})))return n[2]}function Xt(e){return"input"===ee(e)}function Gt(){var e,t=T(this),n=t._mask,r=t.state,i=n.options;r.strict&&(!i.hidden&&(e=Ut(t,1))?Tn(e,t):(i.hidden=!1,En(t,1)))}function Qt(){var e=this,t=T(e),n=t._mask,r=t.self,i=t.strict,u=n.hint;Ve((function(){le(e,0)?Ie(u,"color","transparent"):ye(u,"color"),i||Me(r,le(e))}),1)()}function Zt(){Ye()}function en(){T(this).focus()}function tn(){var e=this,t=T(e);le(e,0)?Ue(e):t.enter().fit()}var nn="";function rn(e){var t,n=this,r=e.key,i=T(n),u=i._mask,o=i._options,a=i.mask,l=i.self,s=i.state,c=u.hint,f=s.strict;if(Ve((function(){return le(n,0)?Ie(c,"color","transparent"):ye(c,"color")}),1)(),zt!==r&&Tt!==r&&1!==x(r)||Ve((function(){return i.enter().fit()}),11)(),wt===r||St===r||Ot===r){var d=o.at(ce(l));if(!(d=d?d[2]:0)||d.hidden)for(d=(d=M(o).shift())?d[2]:0;d&&(U(d,"disabled")||d.hidden);)d=te(d);t=!0,U(a,"expanded")?f&&Ot===r?On(i)&&i.exit(t):d&&Rt(d):(i.enter(!1).fit(),d&&Rt(d))}else jt===r?i.exit():Ve((function(){""!==nn&&nn===le(n)+""||(qt(i,n,o),nn=le(n)+"")}),1)();t&&(Ze(e),et(e))}function un(e){Xe=e.ctrlKey,Ge=e.shiftKey}var on="",an=Je((function(){return on=""}),500);function ln(e){var t,n,r,i,u,o=this,a=e.key,l=e.altKey,s=Xe=e.ctrlKey,c=Ge=e.shiftKey,f=T(o),d=f._mask,v=f._options,p=f.max,h=f.self,m=d.hint,b=d.value;if(zt===a||Tt===a)t=!0,b&&(u=X('[value="'+(Yt(o)+"").replace(/"/g,'\\"')+'"]',ne(b)))?Rt(u):f.exit(t);else if(Ot===a||Et===a||jt===a||" "===a)p>1?Et===a?f.exit(t=!0):jt===a?f.exit(t=!1):(t=!0,Ln(o,f)):(Et!==a&&Tn(o,f),f.exit(t=jt!==a));else if(wt===a||Ct===a){for(t=!0,n=Ct===a&&"group"===ue(r=ne(o))?te(r):te(o);n&&(U(n,"disabled")||n.hidden);)n=te(n);for(n?"group"===ue(n)&&(n=F(n)):((r=ne(o))&&"group"===ue(r)&&(n=te(r)),n&&"group"===ue(n)&&(n=F(n)));n&&(U(n,"disabled")||n.hidden);)n=te(n);if(c&&p>1){if(n){if(U(n,"selected")){if(i=ie(o))if("group"===ue(i))i=!1;else for(;i&&(U(i,"disabled")||i.hidden);)i=te(i);i&&U(i,"selected")||Ln(o,f)}else Ln(n,f);Dt(n)}}else n?Dt(n):Ht(f)}else if(St===a||Kt===a){for(t=!0,i=Kt===a&&"group"===ue(r=ne(o))?ie(r):ie(o);i&&(U(i,"disabled")||i.hidden);)i=ie(i);for(i?"group"===ue(i)&&(i=J(i)):((r=ne(o))&&"group"===ue(r)&&(i=ie(r)),i&&"group"===ue(i)&&(i=J(i)));i&&(U(i,"disabled")||i.hidden);)i=ie(i);if(c&&p>1){if(i){if(U(i,"selected")){if(n=te(o))if("group"===ue(n))n=!1;else for(;n&&(U(n,"disabled")||n.hidden);)n=te(n);n&&U(n,"selected")||Ln(o,f)}else Ln(i,f);Dt(i)}}else i?Dt(i):Bt(f)}else"Home"===a?(t=!0,Ht(f)):"End"===a?(t=!0,Bt(f)):s&&!c&&"a"===a&&!Xt(h)&&p>1?(t=!0,$(v,(function(e,t){U(e[2],"disabled")||e[2].hidden||(me(u=e[2],"selected"),e[3].selected=!1,Ln(u,f))})),u&&Rt(u)):s||(1!==x(a)||l||(Xt(h)?Ie(m,"color","transparent"):on+=a),!c&&f.exit(!(t=!1)));t&&(Ze(e),et(e))}function sn(e){var t=e.key;Xe=e.ctrlKey,Ge=e.shiftKey;var n=T(this)._options,r=0;$(n,(function(e){U(e[2],"selected")&&++r})),r<2&&!Xe&&!Ge&&Ot!==t&&" "!==t&&me(this,"selected")}function cn(e){var t,n,r,i,u=this,o=e.key,a=e.altKey,l=Xe=e.ctrlKey,s=Ge=e.shiftKey,c=T(u),f=c._mask,d=c._options,v=c.max,p=c.min,h=c.self,m=f.options,b=f.value,_=f.values;if(an(),pe(h)||Xt(h)&&he(h))return Ze(e);if(!U(u,"selected")||zt!==o&&Tt!==o){if(zt===o){on="";var g=y(_);p<g?(n=d.at(Yt(u)))&&(me(n[2],"selected"),n[3].selected=!1,(i=ie(u))&&E(i,_)||(i=te(u))&&E(i,_)?(Rt(f.value=i),Qe(ot,u,cn),Qe(at,u,fn),Qe(st,u,dn),Qe(xt,u,dn),C(u,_),xe(u)):(be(f.value=u,"value"),Ce(u.$[1],""),0===p&&En(c,1))):c.fire("min.options",[g,p]),v!==1/0&&v>g&&$(d,(function(e,t){e[3].disabled||(me(e[2],"disabled"),we(e[2],"tabindex",0))}))}else if(Tt===o){on="";var k=y(_);p<k?(n=d.at(Yt(u)))&&(me(n[2],"selected"),n[3].selected=!1,(r=te(u))&&E(r,_)||(r=ie(u))&&E(r,_)?(Rt(f.value=r),Qe(ot,u,cn),Qe(at,u,fn),Qe(st,u,dn),Qe(xt,u,dn),C(u,_),xe(u)):(be(f.value=u,"value"),Ce(u.$[1],""),0===p&&En(c,1))):c.fire("min.options",[k,p]),v!==1/0&&v>k&&$(d,(function(e,t){e[3].disabled||(me(e[2],"disabled"),we(e[2],"tabindex",0))}))}else if(Et===o)on="",c.exit(t=!0);else if(jt===o)on="",c.exit(t=!1);else if(wt===o||St===o||Ot===o||Ct===o||Kt===o||""===on&&" "===o){var w=t=!0;Ot!==o&&" "!==o||((n=d.at(Yt(u)))&&(w=!1,K(m,(function(){return Rt(n[2])}),zn(n[2]))),U(u,"selected")?me(u,"selected"):ke(u,"selected",!0)),c.size<2&&Ie(m,"max-height",0),c.enter(w).fit()}else if($t===o)t=!0,(i=ie(u))&&E(i,_)&&(s&&(U(i,"selected")?me(u,"selected"):(ke(u,"selected",!0),ke(i,"selected",!0))),Rt(i));else if(At===o)t=!0,(r=te(u))&&E(r,_)&&(s&&(U(r,"selected")?me(u,"selected"):(ke(u,"selected",!0),ke(r,"selected",!0))),Rt(r));else if(1===x(o)&&!a)if(t=!0,l&&!s&&"r"===o)t=!1;else if(l&&!s&&"a"===o&&v>1){for(ke(n=b,"selected",!0);(r=te(n))&&E(r,_);)ke(n=r,"selected",!0);for(;(i=ie(n))&&E(i,_);)ke(n=i,"selected",!0)}else l||(on+=o)}else{if(on="",p===y(_))c.fire("min.options",[p,p]);else{var A=0;S(_,(function(e){p>A?((n=d.at(Yt(e)))&&p<1&&(me(n[2],"selected"),be(e,"value"),n[3].selected=!1,Ce(e.$[1],"")),Rt(f.value=e)):U(e,"selected")&&((n=d.at(Yt(e)))&&(me(n[2],"selected"),n[3].selected=!1),Qe(ot,e,cn),Qe(at,e,fn),Qe(st,e,dn),Qe(xt,e,dn),C(e,_),xe(e)),++A}))}S(_,(function(e){return me(e,"selected")}))}""!==on&&qt(c,on,d,!0),t&&Ze(e)}function fn(e){e.key,Xe=e.ctrlKey,Ge=e.shiftKey,T(this)._options}function dn(e){Ze(e);var t=T(this),n=t._mask,r=t.max,i=n.values;S(i,(function(e){return me(e,"selected")})),r>1&&y(i)>1&&(t.exit(),Rt(this),et(e))}function vn(e){Ze(e);var t=this,n=T(t)._mask.hint;Ve((function(){return le(t,0)?Ie(n,"color","transparent"):ye(n,"color")}),1)(),function(e,t,n,r){var i,o,a;if((r=r||Re()).rangeCount){var l,s,c;if((o=r.getRangeAt(0)).deleteContents(),a=R.createDocumentFragment(),v(t))for(i=Ee("div"),Ce(i,t);l=F(i,1);)c=Ae(a,l);else u(t)?w(t,(function(e){return c=Ae(a,e)})):c=Ae(a,t);s=F(a,1),o.insertNode(a),c&&((o=o.cloneRange()).setStartAfter(c),o.setStartBefore(s),Fe(e,o,Ye(r)))}}(t,e.clipboardData.getData("text/plain"))}var pn=0,hn=!1,mn=!1;function bn(e){Ze(e);var t=T(this),n=t._mask,r=t._options,i=t.self,u=n.options,o=e.target;pe(i)||he(i)||W(this,"size")||"listbox"===ue(o)||ne(o,"[role=listbox]")||($(r,(function(e){return e[2].hidden=!1})),t.size<2&&Ie(u,"max-height",0),t[T(B)!==t?"enter":"exit"](!0).fit())}function _n(e){"touchstart"!==e.type||U(this,"disabled")||ke(this,"selected",!0),pn=1}function gn(e){"touchstart"===e.type&&(hn=e.touches[0].clientY);var t=T(this);if(t){var n=t.mask,r=e.target;n!==r&&n!==ne(r,"[role=combobox]")&&(L(this),t.exit())}}function xn(e){mn="touchmove"===e.type&&e.touches[0].clientY;var t=T(this);if(t){var n,r,i=t._mask.lot;!1!==hn&&!1!==mn&&(1===pn&&hn!==mn&&++pn,(n=[(r=i).scrollLeft,r.scrollTop])[1]-=mn-hn,function(e,t){e.scrollLeft=t[0],e.scrollTop=t[1]}(i,n),hn=mn)}}function yn(){var e=this,t=T(e);1===pn?U(e,"disabled")||(t.max>1?(Ln(e,t),Rt(e)):(Tn(e,t),t.size<2?t.exit(!0):Rt(e))):me(e,"selected"),pn=0}function kn(){pn=0,hn=!1}function wn(){T(this).reset()}function $n(e){var t=T(this),n=t.max,r=t.min,i=x(Vt(t));i<r?(t.fire("min.options",[i,r]),Ze(e)):i>n&&(t.fire("max.options",[i,n]),Ze(e))}function An(){var e=T(B);e&&e.fit()}function Sn(){An()}function zn(e){e.scrollIntoView({block:"nearest"})}function Tn(e,t){var n=t._mask;t.min;var r,i,u=t.self,o=n.hint,a=n.input,l=n.value;if(e)return r=e.$[0],En(t),r.selected=!0,ke(e,"selected",!0),Me(u,i=Yt(e)),Xt(u)?(ke(a,"activedescendant",Z(e)),Ie(o,"color","transparent"),qe(a,le(e))):(Ce(l.$[1],Q(e.$[1])),Me(l,i)),t.fire("change",[""!==i?i:null]),e}function On(e){var t;if(t=Wt(e))return Tn(t,e)}function En(e,t){var n=e._mask,r=e._options,i=e.self,u=n.hint,o=n.input,a=n.value;$(r,(function(e){me(e[2],"selected"),e[3].selected=!1})),t&&(Me(i,""),Xt(i)?(me(o,"activedescendant"),ye(u,"color"),qe(o,"")):(be(a,"value"),Ce(a.$[1],"")))}function Ln(e,t){var n,r,i,u,o=t._mask,a=t._options,l=t.max,s=t.min,c=t.self,f=t.state,d=o.value,v=o.values,p=f.n;if(e){var h,m,b=e.$[0],_=Jt(Vt(t));return U(e,"selected")&&b.selected?s>0&&(m=x(_))<=s?t.fire("min.options",[m,s]):(me(e,"selected"),b.selected=!1):(ke(e,"selected",!0),b.selected=!0),Xt(c)||(h=Jt(Vt(t)),l!==1/0&&(m=x(h))===l?$(a,(function(e,t){U(e[2],"selected")||(be(e[2],"tabindex"),ke(e[2],"disabled",!0))})):m>l?(me(e,"selected"),b.selected=!1,$(a,(function(e,t){U(e[2],"selected")||(be(e[2],"tabindex"),ke(e[2],"disabled",!0))})),t.fire("max.options",[m,l])):$(a,(function(e,t){e[3].disabled||(me(e[2],"disabled"),we(e[2],"tabindex",0))})),(r=(n=Vt(t)).shift())&&(Ce(d.$[1],Q(r.$[1])),Me(d,Yt(r)),C(d,v),S(v,(function(e){return Qe(ot,e,cn),Qe(at,e,fn),Qe(st,e,dn),Qe(xt,e,dn),L(e),xe(e),-1})),v.add(i=d),w(n,(function(e,n){var r;(u=Ke((r=d.cloneNode(!0),be(r,"id")))).tabIndex=-1,u.$={},u.$[0]=null,u.$[1]=X("."+p+"__v",u),tt(ot,u,cn),tt(at,u,fn),tt(st,u,dn),tt(xt,u,dn),me(u,"selected"),Ce(u.$[1],Q(e.$[1])),N(u,t),v.add(je(i,u)),Me(u,Yt(e)),i=u})))),t.fire("change",[h]),e}}function Cn(e,t){var n,r=this;return e?l(r,Cn)?(N(e,function(e,t){return(t=t||e).fire=function(e,t,n){var r=this,i=r.hooks;return d(i[e])?(w(i[e],(function(e){e.apply(n||r,t)})),r):r},t.off=function(e,t){var n=this,r=n.hooks;if(!d(e))return r={},n;if(d(r[e]))if(d(t)){var i=x(r[e]);if(0===i)delete r[e];else for(var u=0;u<i;++u)if(t===r[e][u]){r[e].splice(u,1);break}}else delete r[e];return n},t.on=function(e,t){var n=this.hooks;return d(n[e])||(n[e]=[]),d(t)&&n[e].push(t),this},e.hooks={},e}(r,Cn._)),r.attach(e,h({},Cn.state,!1===(n=t)||!0===n?{strict:t}:t||{}))):new Cn(e,t):r}function Kn(e,t){var n=this;return l(n,Kn)?(n.of=e,n.values=new Map,t&&Pt(e,t),n):new Kn(e,t)}return Cn.from=function(e,t){return new Cn(e,t)},Cn.of=T,Cn.state={max:null,min:null,n:"option-picker",options:null,size:null,strict:!1,with:[]},Cn.version="2.1.0",j(Cn,{name:{value:Mt}},1),j(Cn,{active:{get:function(){return this._active},set:function(e){var t=this,n=t._mask,r=t.mask,i=t.self,u=n.input,o=n.value,a=!!e;return i.disabled=!(t._active=a),a?(me(r,"disabled"),u?(me(u,"disabled"),we(u,"contenteditable","")):o&&we(o,"tabindex",0)):(ke(r,"disabled",!0),u?(ke(u,"disabled",!0),be(u,"contenteditable")):o&&be(o,"tabindex")),t}},fix:{get:function(){return this._fix},set:function(e){var t=this,n=t._mask,r=t.mask,i=t.self,u=n.input,o=!!e;return Xt(i)?(t._active=!(t._fix=i.readOnly=o),o?(be(u,"contenteditable"),ke(u,"readonly",!0),ke(r,"readonly",!0),we(u,"tabindex",0)):(me(u,"readonly"),me(r,"readonly"),be(u,"tabindex"),we(u,"contenteditable","")),t):t}},max:{get:function(){var e=this.state.max;return 1/0===e||s(e)&&e>0?e:1},set:function(e){var t=this,n=t._active,r=t.mask,i=t.self,u=t.state;return!n||Xt(i)||(e=(1/0===e||s(e))&&e>0?e:0,i.multiple=e>1,u.max=e,e>1?ke(r,"multiselectable",!0):me(r,"multiselectable")),t}},min:{get:function(){var e=this.state.min;return!s(e)||e<0?0:e},set:function(e){var t=this,n=t._active,r=t.state;return n?(r.min=s(e)&&e>0?e:0,t):t}},options:{get:function(){return this._options},set:function(e){var t=this,n=t._active;t._mask;var r,i=t.max;if(!n)return t;if((o(e)||s(e)||v(e))&&(e=[e]),x(r=Pt(t,e))){var u=i>1;t["value"+(u?"s":"")]=t["_value"+(u?"s":"")]=u?r:r[0]}var a=[];return $(t._options,(function(e){return a.push(Yt(e[2],1))})),t.fire("set.options",[a])}},size:{get:function(){var e,t,n=this.self,r=this.state;return Xt(n)?null:(t=null!=(e=n.size)?e:r.size||1,!s(t)||t<1?1:t)},set:function(e){var t=this,n=t._active,r=t._mask,i=t.mask,u=t.self,o=t.state,a=r.options,l=!s(e)||e<1?1:e;if(Xt(u))return t;if(u.size=o.size=l,1===l)ge(i,"size"),ye(a,"max-height"),n&&L(B);else{var c=Wt(t);if(c){var f,d,v=oe(a,"border-bottom-width"),p=oe(a,"border-top-width"),h=oe(a,"gap"),m=null!=(f=null!=(d=oe(c,"height"))?d:oe(c,"min-height"))?f:oe(c,"line-height");Oe(i,"size",l),Ie(a,"max-height","calc("+p+" + "+v+" + ("+m+"*"+l+") + calc("+h+"*"+l+"))"),n&&N(B,t)}}return t}},text:{get:function(){var e=this._mask,t=e.input;return e.text?le(t):null},set:function(e){var t,n=this,r=n._active,i=n._mask,u=i.hint,o=i.input,a=i.text;return r&&a?(qe(o,t=m(e)),t?Ie(u,"color","transparent"):ye(u,"color"),n):n}},value:{get:function(){var e=ce(this.self);return""!==e?e:null},set:function(e){var t,n=this,r=n._active,i=n._options;return r?((t=i.at(e))&&Tn(t[2],n),n):n}},values:{get:function(){return Jt(Vt(this))},set:function(e){var t,n=this,r=n._active,i=n._options;return!r||n.max<2||(En(n),(o(e)||s(e)||v(e))&&(e=[e]),u(e)&&w(e,(function(e){(t=i.at(e))&&Ln(t[2],n)}))),n}},vital:{get:function(){return this._vital},set:function(e){var t=this,n=t._mask,r=t.mask,i=t.min,u=t.self,o=n.input,a=!!e;return u.required=a,a?(0===i&&(t.min=1),o&&ke(o,"required",!0),ke(r,"required",!0)):(t.min=0,o&&me(o,"required"),me(r,"required")),t}}}),Cn._=I(Cn,{attach:function(e,t){var n,r,i=this;e=e||i.self,t=t||i.state,i._options=new Kn(i),i._value=null,i._values=[],i.self=e,i.state=t;var o=t,s=o.max,c=o.min,p=o.n,h=pe(e),m=Xt(e),b=s&&s>1||!m&&e.multiple,_=he(e),g=e.required,y=e.id,k=e.name,$=e.placeholder;i._active=!h&&!_,i._fix=m&&_,i._vital=g,g&&c<1&&(t.min=c=1);var A=Ee("span",{aria:{hidden:Nt},class:p+"__arrow"}),S=re(e),z=Ee("div",{aria:{disabled:!!h&&Nt,expanded:It,haspopup:"listbox",multiselectable:!!b&&Nt,readonly:!(!m||!_)&&Nt,required:!!g&&Nt},class:p,role:"combobox"});i.mask=z;var T=Ee("div",{class:p+"__flex",role:"group"}),O=Ee("div",{class:p+"__options",role:"listbox"}),E=Ee("div",{class:p+"__options-lot",role:"none"}),L=Ee(m?"span":"data",{class:p+"__"+(m?"text":"value"),tabindex:!m&&0});m||(L.$={},L.$[0]=null,Ae(L,L.$[1]=Ee("span",{class:p+"__v",role:"none"})));var C=Ee("span",{aria:{autocomplete:"list",disabled:!!h&&Nt,multiline:It,placeholder:!!m&&$,readonly:!!_&&Nt,required:!!g&&Nt},autocapitalize:"off",contenteditable:!(h||_||!m)&&"",role:"searchbox",spellcheck:!!m&&It,tabindex:!(!_||!m)&&0}),K=Ee("span",m?$+"":"",{aria:{hidden:Nt}});Ae(z,T),Ae(z,O),Ae(O,E),Ae(T,L),Ae(T,A),m?(tt(it,C,Gt),tt("cut",C,Qt),tt(ut,C,tn),tt(ot,C,rn),tt(at,C,un),tt(dt,C,vn),Ae(L,C),Ae(L,K),N(C,i)):(tt(ot,L,cn),tt(at,L,fn),tt(st,L,dn),tt(xt,L,dn),N(L,i)),Se(e,p+"__self"),je(e,z),Ae(z,e),S&&(tt(vt,S,wn),tt(mt,S,$n),Ke(S),N(S,i)),tt(ut,e,en),tt(st,B,gn),tt(st,z,bn),tt(ct,B,xn),tt(ft,B,kn),tt(pt,D,An,{passive:!0}),tt(ht,D,Sn,{passive:!0}),tt(_t,B,kn),tt(gt,B,xn,{passive:!0}),tt(xt,B,gn),tt(xt,z,bn),e.tabIndex=-1,N(z,i);var j={arrow:A,flex:T,hint:m?K:null,input:m?C:null,lot:E,of:e,options:O,self:z,values:new Set};j[m?"text":"value"]=L,m||j.values.add(L),i._mask=j,i.max=b?null!=s?s:1/0:1,i.min=m?0:null!=(n=c)?n:1;var I,q=i._active,M=t.options;return i._active=!0,a(M)?(ke(z,"busy",!0),M=M.call(i,null),l(M,Promise)?M.then((function(e){me(z,"busy"),x(I=Pt(i,e))?i["value"+(b?"s":"")]=i["_value"+(b?"s":"")]=b?I:I[0]:(I=Ut(i,1))&&(I=Yt(I),i["value"+(b?"s":"")]=i["_value"+(b?"s":"")]=b?[I]:I),i.fire("load",[null,i.values])[i.options.open?"enter":"exit"]().fit()})):x(I=Pt(i,M))&&(i["value"+(b?"s":"")]=i["_value"+(b?"s":"")]=b?I:I[0])):x(I=Pt(i,M||Ft(e)))&&(i["value"+(b?"s":"")]=i["_value"+(b?"s":"")]=b?I:I[0]),i._active=q,i.size=null!=(r=t.size)?r:m?1:e.size,ke(z,"controls",Z(Ke(O))),ke(z,"labelledby",Z(Ke(L))),ke(e,"hidden",!0),ke(C,"controls",Z(O)),Ke(A),Ke(z),Ke(T),Ke(E),Ke(e),Ke(C),Ke(K),y&&Oe(z,"id",y),k&&Oe(z,"name",k),d(t)&&u(t.with)&&w(t.with,(function(n,r){v(n)&&(n=Cn[n]),a(n)?n.call(i,e,t):f(n)&&a(n.attach)&&n.attach.call(i,e,t)})),i},blur:function(){var e=this,t=e._mask,n=e.mask,r=t.input;return r&&Ye(),(r||n).blur(),e.exit()},detach:function(){var e=this,t=e._mask,n=e.mask,r=e.self,i=e.state,o=t.input,l=t.value,s=re(r);return e._active=!1,e._options=new Kn(e),e._value=null,e._values=[],s&&(Qe(vt,s,wn),Qe(mt,s,$n)),o&&(Qe(it,o,Gt),Qe("cut",o,Qt),Qe(ut,o,tn),Qe(ot,o,rn),Qe(at,o,un),Qe(dt,o,vn)),l&&(Qe(ot,l,cn),Qe(at,l,fn),Qe(st,l,dn),Qe(xt,l,dn)),Qe(ut,r,en),Qe(st,B,gn),Qe(st,n,bn),Qe(ct,B,xn),Qe(ft,B,kn),Qe(pt,D,An),Qe(ht,D,Sn),Qe(_t,B,kn),Qe(gt,B,xn),Qe(xt,B,gn),Qe(xt,n,bn),u(i.with)&&w(i.with,(function(t,n){v(t)&&(t=Cn[t]),f(t)&&a(t.detach)&&t.detach.call(e,r,i)})),r.tabIndex=null,me(r,"hidden"),_e(r,i.n+"__self"),je(n,r),xe(n),e._mask={of:r},e.mask=null,e},enter:function(e,t){var n,r=this,i=r._active,u=r._mask,o=r._options,a=r.mask,l=r.self,s=u.input,c=u.lot,f=u.options,d=u.value,v=u.values;if(!i)return r;ke(a,"expanded",x(V(c))>0);var p=T(B);return p&&r!==p&&p.exit(),N(B,r),S(v,(function(e){return me(e,"selected")})),r.fire("enter"),e&&(Xt(l)?(Rt(s),Ue(s,t)):(n=o.at(ce(l)))?K(f,(function(){return Rt(n[2])}),zn(n[2])):(n=Wt(r))?K(f,(function(){return Rt(n)}),zn(n)):Rt(d)),r},exit:function(e,t){var n=this,r=n._active,i=n._mask,u=n._options,o=n.mask,a=n.self,l=i.input,s=i.value;return r?($(u,(function(e){return e[2].hidden=!1})),ke(o,"expanded",!1),L(B),n.fire("exit"),e&&(Xt(a)?(Rt(l),Ue(l,t)):Rt(s)),n):n},fit:function(){var e=this,t=e._active,n=e._mask,r=e.mask,i=n.options;if(!t||!U(r,"expanded")||W(r,"size"))return e;Ie(i,"max-height",0);var u=oe(r,"border-bottom-width"),o=oe(r,"border-top-width"),a=We(r),l=We(D);return a[1]+a[3]/2>l[3]/2?Ne(i,{bottom:"100%","max-height":"calc("+a[1]+"px + "+u+")",top:"auto"}):Ne(i,{bottom:"auto","max-height":"calc("+(l[3]-a[1]-a[3])+"px + "+o+")",top:"100%"}),e.fire("fit")},focus:function(e){var t=this._mask,n=t.input,r=t.value;return n?(Rt(n),Ue(n,e)):Rt(r),this},reset:function(e,t){var n=this,r=n._active,i=n._value,u=n._values,o=n.max;return r?(o>1?n.values=u:n.value=i,e?n.focus(t):n):n}}),j(Kn,{name:{value:Mt+"Options"}},1),j(Kn,{open:{get:function(){var e=this.of.mask;return U(e,"expanded")}}}),Kn._=I(Kn,{at:function(e){return O(k(e),this.values)},count:function(){return this.values.size},delete:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1);var r,i=this,u=i.of,o=i.values,l=u._active,s=u._mask,c=u.self,f=u.state,v=s.lot,p=s.options;if(!l)return!1;if(!d(e))return $(o,(function(e,t){return i.delete(t,0,0)})),En(u,n),p.hidden=!0,t&&u.fire("let.options",[[]]),0===i.count();if(!(r=O(e=k(e),o)))return t&&u.fire("not.option",[e]),!1;var h=ne(r[2]),m=ne(r[3]),b=Yt(r[2]),_=u.value;return Qe(ut,r[2],Zt),Qe(ot,r[2],ln),Qe(at,r[2],sn),Qe(st,r[2],_n),Qe(ft,r[2],yn),Qe(_t,r[2],yn),Qe(xt,r[2],_n),xe(r[2]),xe(r[3]),r=C(e,o),h&&"group"===ue(h)&&0===x(V(h))&&xe(h),m&&"optgroup"===ee(m)&&0===x(V(m))&&xe(m),0===x(V(v))?(En(u,!Xt(c)),p.hidden=!0):(Me(c,""),b===_&&On(u)),a(f.options)||(f.options=o),t&&u.fire("let.option",[e]),r},get:function(e){var t,n=this.values,r=O(k(e),n);return r&&(t=ne(r[2]))&&"group"===ue(t)?[G(r[2]),G(t)]:r?G(r[2]):-1},has:function(e){return E(k(e),this.values)},let:function(e,t){return void 0===t&&(t=1),this.delete(e,t,1)},set:function(e,t,n){var r,i,u;void 0===n&&(n=1);var l=this,c=l.of,f=l.values;if(!c._active)return!1;if(l.has(e=k(e)))return n&&c.fire("has.option",[e]),!1;var p,h,b,_,g,x,y,w,$=c._mask,A=c.self,S=c.state,z=$.lot,T=$.options,O=S.n;(Xt(A)?!(p=A.list)||V(p):V(p=A),T.hidden=!1,Ke(p),d(t)?(o(t)||s(t)||v(t))&&(t=[t,{}]):t=[e,{}],ve(t[1],"&"))?(b=X("."+O+'__options-batch[value="'+m(t[1]["&"]).replace(/"/g,'\\"')+'"]',z),_=X('optgroup[label="'+m(t[1]["&"]).replace(/"/g,'\\"')+'"]',A)||Ee("optgroup",{label:t[1]["&"],title:null!=(y=ae(t[1],"title"))&&y}),b&&Yt(b)===t[1]["&"]||(Ae(z,b=Ee("data",{class:O+"__options-batch",role:"group",title:null!=(w=ae(t[1],"title"))&&w,value:t[1]["&"]})),Ae(p,_),Ke(b),Ke(_))):b=_=!1;var E=t[1],L=E.active,C=E.mark,K=E.value;return d(L)||(L=!0),K=m(K||e),h=t[2]||Ee("data",{aria:{disabled:!L&&Nt,selected:!!C&&Nt},class:O+"__option",data:{batch:null!=(r=ae(t[1],"&"))&&r},role:"option",tabindex:!!L&&-1,title:null!=(i=ae(t[1],"title"))&&i,value:K}),g=t[3]||Ee("option",m(t[0]),{disabled:!L&&"",selected:!!C&&"",title:null!=(u=ae(t[1],"title"))&&u,value:K}),x=t[2]?t[2].$[1]:Ee("span",m(t[0]),{class:O+"__v",role:"none"}),Ke(h),Ke(g),h.$={},h.$[0]=g,h.$[1]=x,L&&!t[2]&&(tt(ut,h,Zt),tt(ot,h,ln),tt(at,h,sn),tt(st,h,_n),tt(ft,h,yn),tt(_t,h,yn),tt(xt,h,_n)),Ae(h,x),Ae(b||z,h),Ae(_||p,g),N(h,c),t[2]=h,t[3]=g,n&&c.fire("is.option",[e]),q(e,t,f),a(S.options)||(S.options=f),n&&c.fire("set.option",[e]),!0}}),z(Kn)[Symbol.iterator]=function(){return this.values[Symbol.iterator]()},Cn.Options=Kn,Cn}));