/*!
 *
 * The MIT License (MIT)

 * Copyright © 2021 Taufik Nurrohman <https://github.com/taufik-nurrohman>

 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:

 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.

 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).OP=n()}(this,(function(){"use strict";var t=function(t){return Array.isArray(t)},n=function(t,n){return t&&i(n)&&t instanceof n},e=function(t){return"number"==typeof t},r=function(t,e){return void 0===e&&(e=!0),"object"==typeof t&&(!e||n(t,Object))},i=function(t){return function(t){return void 0!==t}(t)&&!function(t){return null===t}(t)},o=function(t){return"string"==typeof t},u=function n(e){if(t(e))return e.map((function(t){return n(e)}));if(r(e)){for(var i in e)e[i]=n(e[i]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},f=function(t){return t.replace(/[-_.](\w)/g,(function(t,n){return c(n)}))},c=function(t){return t.toUpperCase()},l=function(t){return t.length},s=function(t,n){return void 0===n&&(n=10),n?parseInt(t,n):parseFloat(t)},a=function(t){return Object.keys(t)},d=function n(e){if(t(e))return e.map((function(t){return n(t)}));if(function(t){return/^-?(?:\d*.)?\d+$/.test(t+"")}(e))return s(e);if(r(e)){for(var i in e)e[i]=n(e[i]);return e}return"false"!==e&&("null"===e?null:"true"===e||e)},p=document,v=window,h=p.body,b=p.documentElement,g=function(t,n){var r=t.children;return e(n)?r[n]||null:r||[]},m=function(t){return t.parentNode||null},y=function(t,n,e){void 0===e&&(e=!0);var r=v.getComputedStyle(t).getPropertyValue(n);return e&&(r=d(r)),r||""===r||0===r?r:null},k=function(t,n){void 0===n&&(n=!0);var e="textContent";if(!E(t,e))return!1;var r=t[e];return""!==(r=n?r.trim():r)?r:null},x=function(t,n){return t.hasAttribute(n)},w=function(t,n){return t.classList.contains(n)},E=function(t,n){return n in t},L=function(t){return t===v},O=function(t,n){return t.removeAttribute(n),t},T=function(t,n){return t.classList.remove(n),t},A=function(t,n){return O(t,"data-"+n)},C=function(t,n){return t.style[f(n)]=null,t},P=function(t,n,e){return!0===e&&(e=n),t.setAttribute(n,u(e)),t},H=function(t,n){return t.append(n),n},$=function(t,n){return t.classList.add(n),t},z=function(n,e,i){return(t(i)||r(i))&&(i=JSON.stringify(i)),P(n,"data-"+e,i)},N=function(t,n,e){return t=o(t)?p.createElement(t):t,r(n)&&(e=n,n=!1),o(n)&&S(t,n),r(e)&&function(t,n){var e;for(var r in n)(e=n[r])||""===e||0===e?P(t,r,e):O(t,r)}(t,e),t},S=function(t,n,e){if(void 0===e&&(e=!0),null===n)return t;var r="innerHTML";return E(t,r)&&(t[r]=e?n.trim():n),t},W=function(t,n,r){return e(r)&&(r+="px"),t.style[f(n)]=u(r),t},B=function(t,n){var e;for(var r in n)(e=n[r])||""===e||0===e?W(t,r,e):C(t,r);return t},D=function(t,n,e){return t.classList.toggle(n,e),t},I=function(t,n,e){n.removeEventListener(t,e)},K=function(t){return t&&t.preventDefault()},U=function(t,n,e,r){void 0===r&&(r=!1),n.addEventListener(t,e,r)};function F(t){var n={};return t.hooks=n,t.fire=function(e,r){return i(n[e])?(n[e].forEach((function(n){return n.apply(t,r)})),t):t},t.off=function(e,r){if(!i(e))return n={},t;if(i(n[e]))if(i(r)){for(var o=0,u=n[e].length;o<u;++o)if(r===n[e][o]){n[e].splice(o,1);break}0===j&&delete n[e]}else delete n[e];return t},t.on=function(e,r){return i(n[e])||(n[e]=[]),i(r)&&n[e].push(r),t},t}var J=function(t){return L(t)?[t.innerWidth,t.innerHeight]:[t.offsetWidth,t.offsetHeight]},M=function(t,n){return t.scrollLeft=n[0],t.scrollTop=n[1],t};function R(e,r={}){if(!e)return;const i=this;if(!n(i,R))return new R(e,r);if(e.OP)return;let{fire:o,hooks:f}=F(i);var c;function j(){return[d(C()),i.options]}function C(){if(rt){let t=[];for(let n=0,e=l(ot);n<e;++n)V(ot[n])&&t.push(S(ot[n]));return t}let t=e.value;return""!==t?t:null}function S(t){let n=t.value||k(t);return""!==n?n:null}function V(t){return x(t,"selected")}function X(t){O(t,"selected"),t.selected=!1}function Y(t){T(t,"active")}function _(t){P(t,"selected",!0),t.selected=!0}function q(t){$(t,"active")}function G(t){t=t||"‌",at.title=t,function(t,n,e){if(void 0===e&&(e=!0),null===n)return t;var r="textContent";E(t,r)&&(t[r]=e?n.trim():n)}(at,t)}function Q(n){if(rt){let n,e=function(n){return t(n)?n:[n]}(n);for(let t=0,r=l(ot);t<r;++t)n=S(ot[t]),e.includes(d(n))?_(ot[t]):X(ot[t])}}i.state=r=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return Object.assign.apply(Object,[{}].concat(n))}(R.state,r),i.options={},i.source=e,R.instances[e.id||e.name||(c=R.instances,l(a(c)))]=i,e.OP=1;let Z=r.class,tt=N(e,{class:Z+"-source",tabindex:-1}),nt=()=>tt.disabled,et=g(tt),rt=tt.multiple,it=0,ot=tt.options,ut=r.parent||p,ft=tt.size,ct=tt.title,lt=C(),st=N("div",{class:Z,tabindex:0,title:ct}),at=N("b","‌"),dt=N("div",{tabindex:-1}),pt=[],vt=!1,ht=!1;var bt,gt;function mt(){rt||ft||(T(st,"open"),o("exit",j()))}function yt(t){D(st,"open",t);let n=kt();return o(n?"enter":"exit",j()),n}function kt(){return w(st,"open")}function xt(){st.focus()}function wt(t){if(nt())return;let n=this,e=n.$,i=lt;lt=n.v;let u=[];if(t&&t.isTrusted&&xt(),K(t),rt&&vt){!function(t){return w(t,"active")}(n)?(_(e),q(n)):(X(e),Y(n));for(let t=0,n=l(ot);t<n;++t)V(ot[t])&&u.push(k(pt[t]));return G(u.join(r.join)),void o("change",j())}rt&&ht||(G(k(n)),pt.forEach((t=>{lt===t.v?(_(t.$),q(t)):(X(t.$),Y(t))})),lt!==i&&o("change",j()))}function Et(t){T(st,"focus"),o("blur",j())}function Lt(t){if(!nt())return ft?($(st,"open"),void o("enter",j())):void(yt()&&Ht(st))}function Ot(t){$(st,"focus"),o("focus",j())}function Tt(t){vt=t.ctrlKey,ht=t.shiftKey;let n=t.key,e=tt.selectedIndex,r=pt[e],i=t=>w(t,"lock"),o=t=>wt.call(t),u=kt();if("ArrowDown"===n){for(;(r=pt[++e])&&i(r););r&&(o(r),yt(u)),K(t)}else if("ArrowUp"===n){for(;(r=pt[--e])&&i(r););r&&(o(r),yt(u)),K(t)}else if("End"===n){for(e=l(ot);(r=pt[--e])&&i(r););r&&(o(r),yt(u)),K(t)}else if("Enter"===n)yt(),K(t);else if("Escape"===n)!ft&&mt();else if("Home"===n){for(e=0;(r=pt[++e])&&i(r););r&&(o(r),yt(u)),K(t)}else"Tab"===n&&(r&&o(r),!ft&&mt());u&&!vt&&!ht&&Ht(st)}function jt(){vt=ht=!1}function At(t){let n=t.target;if(n!==st)for(;(n=m(n))&&st!==n;);st!==n&&mt()}function Ct(){kt()&&Ht(st)}function Pt(t,n){if("optgroup"===function(t){return(t&&t.nodeName||"").toLowerCase()||null}(t)){let e=N("span"),r=g(t);e.title=t.label;for(let t=0,n=l(r);t<n;++t)Pt(r[t],e);return void H(n,e)}let e=function(t,n,e){if(void 0===e&&(e=!0),!x(t,n))return null;var r=t.getAttribute(n);return e?d(r):r}(t,"value",!1),r=k(t),o=N("a",r,{title:r});e=e||r,o.i=it,o.$=t,o.v=e,function(t,n){var e;for(var r in n)(e=n[r])||""===e||0===e?z(t,r,e):A(t,r)}(o,{index:it,value:e}),i.options[e]=r,t.disabled?$(o,"lock"):U("click",o,wt),H(n,o),pt.push(o),e===lt?($(o,"active"),G(r),_(t)):X(t),++it}function Ht(t){let n=s(y(t,"border-top-width")),e=s(y(t,"border-bottom-width"));if(!ft){let[r,i,o,u]=function(t){var n,e,r,i,o,u,f;return L(t)?(i=t.pageXOffset||b.scrollLeft||h.scrollLeft,o=t.pageYOffset||b.scrollTop||h.scrollTop,r=t.innerWidth,n=t.innerHeight):(i=(e=t.getBoundingClientRect()).left,o=e.top,r=e.width,n=e.height,u=e.right,f=e.bottom),[i,o,r,n,u,f]}(t),f=J(v)[1],c=f-i-u;B(dt,{bottom:"",left:r,"max-height":c,top:i+u-n,width:o}),c<(f-u)/2?(c=i,B(dt,{top:"",bottom:f-i-e,"max-height":c+n}),$(dt,"up")):T(dt,"up")}let r=pt.find((t=>w(t,"active")));if(r){let t=J(r)[1],n=J(dt)[1],[e,i]=function(t){return[t.offsetLeft,t.offsetTop]}(r),o=function(t){return[t.scrollLeft,t.scrollTop]}(dt)[1];i<o?M(dt,[e,i]):i+t-n>o&&M(dt,[e,i+t-n])}o("fit",j())}H(st,at),gt=st,m(bt=tt).insertBefore(gt,function(t){return t.nextElementSibling||null}(bt)),function(t,n,e,r){void 0===r&&(r=!1),t.forEach((function(t){return U(t,n,e,r)}))}(["resize","scroll"],v,Ct),U("click",ut,At),U("focus",tt,xt),U("blur",st,Et),U("click",st,Lt),U("focus",st,Ot),U("keydown",st,Tt),U("keyup",st,jt);let $t=l(et);if($t){H(st,dt);for(let t=0;t<$t;++t)Pt(et[t],dt);if(ft){let t=pt[0],n=J(t)[1]*ft;W(dt,"max-height",n)}}return ft&&$(st,"open"),i.get=(t=!0)=>{let n=C();return t?d(n):n},i.pop=()=>e.OP?(delete e.OP,function(t,n,e){t.forEach((function(t){return I(t,n,e)}))}(["resize","scroll"],v,Ct),I("click",ut,At),I("focus",tt,xt),T(tt,Z+"-source"),I("blur",st,Et),I("click",st,Lt),I("focus",st,Ot),I("keydown",st,Tt),I("keyup",st,jt),letText(st),function(t){var n=m(t);t.remove()}(st),o("pop",j())):i,i.set=t=>(Q(u(t)),pt.forEach(((t,n)=>{let e=ot[n];D(t,"active",e&&V(e))})),o("change",j()),i),i.self=st,i.value=d(C()),i}return R.instances={},R.state={class:"option-picker",join:", ",parent:null},R.version="1.0.0",R}));