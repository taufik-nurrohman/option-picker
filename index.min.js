/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2022 Taufik Nurrohman <https://github.com/taufik-nurrohman>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).OP=t()}(this,(function(){"use strict";var n=function(n,t){return-1!==t.indexOf(n)},t=function(n){return Array.isArray(n)},e=function(n,t){return n&&u(t)&&n instanceof t},r=function(n){return"number"==typeof n},i=function(n,t){return void 0===t&&(t=!0),"object"==typeof n&&(!t||e(n,Object))},u=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},o=function(n){return"string"==typeof n},f=function(n){return n.replace(/[-_.](\w)/g,(function(n,t){return l(t)}))},c=function(n){return n.toLowerCase()},l=function(n){return n.toUpperCase()},a=function(n){return n.length},s=function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)},d=function(n){return Object.keys(n)},v=function n(e){if(t(e))return e.map((function(t){return n(t)}));if(function(n){return/^-?(?:\d*.)?\d+$/.test(n+"")}(e))return s(e);if(i(e)){for(var r in e)e[r]=n(e[r]);return e}return"false"!==e&&("null"===e?null:"true"===e||e)},p=function e(){for(var r=arguments.length,o=Array(r),f=0;f<r;f++)o[f]=arguments[f];for(var c=o.shift(),l=0,s=a(o);l<s;++l)for(var d in o[l])if(u(c[d]))if(t(c[d])&&t(o[l][d])){c[d]=[].concat(c[d]);for(var v=0,p=a(o[l][d]);v<p;++v)n(o[l][d][v],c[d])||c[d].push(o[l][d][v])}else i(c[d])&&i(o[l][d])?c[d]=e({},c[d],o[l][d]):c[d]=o[l][d];else c[d]=o[l][d];return c},h=function n(e){if(t(e))return e.map((function(t){return n(e)}));if(i(e)){for(var r in e)e[r]=n(e[r]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},g=document,b=window,m=g.body,y=g.documentElement,k=function(n,t){var e=n.children;return r(t)?e[t]||null:e||[]},x=function(n,t){void 0===t&&(t=!0);var e=(A(n,"className")||"").trim();return t?e.split(/\s+/).filter((function(n){return""!==n})):e},w=function(n,t){void 0===t&&(t=!0);var e="innerHTML";if(!H(n,e))return!1;var r=n[e];return""!==(r=t?r.trim():r)?r:null},L=function(n){return c(n&&n.nodeName||"")||null},T=function(n,t){return t?n.closest(t)||null:n.parentNode||null},E=function(n,t,e){void 0===e&&(e=!0);var r=b.getComputedStyle(n).getPropertyValue(t);return e&&(r=v(r)),r||""===r||0===r?r:null},A=function(n,t){return H(n,t)&&n[t]||null},O=function(n,t){void 0===t&&(t=!0);var e="textContent";if(!H(n,e))return!1;var r=n[e];return""!==(r=t?r.trim():r)?r:null},$=function(n,t){return n.hasAttribute(t)},C=function(n,t){return n.classList.contains(t)},H=function(n,t){return t in n},P=function(n){return n===b},z=function(n,t){return n.removeAttribute(t),n},R=function(n,t){return n.classList.remove(t),n},N=function(n,t){return z(n,"data-"+t)},S=function(n,t){return n.style[f(t)]=null,n},I=function(n,t,e){return!0===e&&(e=t),n.setAttribute(t,h(e)),n},M=function(n,t){return n.append(t),t},W=function(n,t){return n.classList.add(t),n},_=function(n,e,r){return(t(r)||i(r))&&(r=JSON.stringify(r)),I(n,"data-"+e,r)},B=function(n,t,e){return n=o(n)?g.createElement(n):n,i(t)&&(e=t,t=!1),o(t)&&D(n,t),i(e)&&function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?I(n,r,e):z(n,r)}(n,e),n},D=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="innerHTML";return H(n,r)&&(n[r]=e?t.trim():t),n},K=function(n,t,e){return r(e)&&(e+="px"),n.style[f(t)]=h(e),n},U=function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?K(n,r,e):S(n,r);return n},F=function(n,t,e){if(void 0===e&&(e=!0),null===t)return n;var r="textContent";return H(n,r)&&(n[r]=e?t.trim():t),n},J=function(n,t,e){return n.classList.toggle(t,e),n},V=function(n){return P(n)?[n.innerWidth,n.innerHeight]:[n.offsetWidth,n.offsetHeight]},X=function(n,t){return n.scrollLeft=t[0],n.scrollTop=t[1],n};function Y(n){var t={};return n.hooks=t,n.fire=function(e,r){return u(t[e])?(t[e].forEach((function(t){return t.apply(n,r)})),n):n},n.off=function(e,r){if(!u(e))return t={},n;if(u(t[e]))if(u(r)){for(var i=0,o=t[e].length;i<o;++i)if(r===t[e][i]){t[e].splice(i,1);break}0===j&&delete t[e]}else delete t[e];return n},n.on=function(e,r){return u(t[e])||(t[e]=[]),u(r)&&t[e].push(r),n},n}var q=function(n,t,e){t.removeEventListener(n,e)},G=function(n){return n&&n.preventDefault()},Q=function(n,t,e,r){void 0===r&&(r=!1),t.addEventListener(n,e,r)},Z="ArrowDown",nn="ArrowUp",tn="Enter",en="Escape",rn="‌";function un(n){var t=g.createRange();t.selectNodeContents(n);var e=b.getSelection();e.removeAllRanges(),e.addRange(t)}function on(r,i){void 0===i&&(i={});var u=this;if(!r)return u;if(r.OP)return r.OP;if(!e(u,on))return new on(r,i);var o,f=Y(u),l=f.fire;function A(){return[v(j()),u.options]}function j(){if(Pn){for(var n=[],t=0,e=a(Rn);t<e;++t)fn(Rn[t])&&n.push(S(Rn[t]));return n}var i=r.value;return""!==i?i:null}function S(n){var t=n.value||O(n);return""!==t?t:null}function fn(n){return $(n,"selected")}function cn(n){z(n,"selected"),n.selected=!1}function ln(n){R(n,xn+"selected")}function an(n){I(n,"selected",!0),n.selected=!0}function sn(n){W(n,xn+"selected")}function dn(n){n=n||rn,_n.title=n.replace(/<.*?>/g,""),D(_n,n)}function vn(n){if(Pn)for(var e,i=function(n){return t(n)?n:[n]}(e),u=0,o=a(Rn);u<o;++u)e=S(Rn[u]),i.includes(v(e))?an(Rn[u]):cn(Rn[u]);else r.value=n}f.hooks,u.state=i=p({},on.state,i),u.options={},u.source=r,on.instances[r.id||r.name||(o=on.instances,a(d(o)))]=u,r.OP=u;var pn,hn,gn=i.class,bn=gn+"__",mn=gn+"--",yn=bn+"input",kn=bn+"option",xn=kn+"--",wn=bn+"options",Ln=bn+"value",Tn=bn+"values",En=B(r,{class:bn+"source",tabindex:-1}),An="input"===L(En)?B("span","",{class:yn}):null,On=An?r.placeholder:"",$n=B("span",On),jn=B("span","",{contenteditable:"",tabindex:0}),Cn=function(){return En.disabled},Hn=k(En),Pn=En.multiple,zn=0,Rn=En.options,Nn=i.parent||g,Sn="input"===L(En)?0:En.size,In=En.title,Mn=j(),Wn=B("div",{class:gn,tabindex:!An&&!Cn()&&0,title:In}),_n=B("div",rn,{class:Tn}),Bn=En.list,Dn=0,Kn=0,Un=B("div",{class:wn,tabindex:-1}),Fn=[],Jn=!1,Vn=!1;function Xn(){R(Wn,mn+"focus"),l("blur",A())}function Yn(){W(Wn,mn+"focus"),l("focus",A())}function qn(){W(Wn,mn+"open"),l("enter",A())}function Gn(){Pn||Sn||(R(Wn,mn+"open"),l("exit",A()))}function Qn(){Dn=s(E(Wn,"border-bottom-width")),Kn=s(E(Wn,"border-top-width")),wt(Wn)}function Zn(n){J(Wn,mn+"open",n);var t=tt();return l(t?"enter":"exit",A()),t}function nt(n,t,e,r){return B("span",n,{class:Ln+" "+r,"data-index":t,"data-value":e}).outerHTML}function tt(){return C(Wn,mn+"open")}function et(){(An?jn:Wn).focus()}function rt(n){if(Rn&&!Cn()){var t,e,r,u=[],o=this,f=o.$,c=Mn;if(zn=o.i,Mn=o.v,n&&n.isTrusted&&et(),G(n),Pn&&(Jn||Vn)){!function(n){return C(n,xn+"selected")}(o)?(an(f),sn(o)):(cn(f),ln(o));for(var s,d=0,v=a(Rn);d<v;++d)fn(Rn[d])&&(t=O(s=Fn[d]),e=s.i,r=s.v,u.push(nt(t,e,r,x(s,!1))));return dn(u.join("<span>"+i.join+"</span>")),void l("change",A())}t=O(o),e=o.i,r=o.v,t&&An&&(D($n,rn),F(jn,t)),dn(nt(t,e,r,x(o,!1))),An&&(un(jn),vn(t)),Fn.forEach((function(n){Mn===n.v?(an(n.$),sn(n)):(cn(n.$),ln(n))})),Mn!==c&&l("change",A())}}function it(n){Xn()}function ut(n){if(!Cn()){if(zn=En.selectedIndex,Sn)return qn();An?jn.focus():Zn()&&Qn()}}function ot(n){zn=En.selectedIndex,Yn()}function ft(n){if(Rn){Jn=n.ctrlKey,Vn=n.shiftKey;var t=n.key,e=zn,r=Fn[e],i=function(n){return C(n,xn+"disabled")},u=function(n){return rt.call(n)},o=tt();if(Z===t){for(;(r=Fn[++e])&&(i(r)||r.hidden););r&&(u(r),Zn(o)),G(n)}else if(nn===t){for(;(r=Fn[--e])&&(i(r)||r.hidden););r&&(u(r),Zn(o)),G(n)}else if("End"===t){for(e=a(Rn);(r=Fn[--e])&&(i(r)||r.hidden););r&&(u(r),Zn(o)),G(n)}else if(tn===t)r&&u(r),Zn(),G(n);else if(en===t)!Sn&&Gn();else if("Home"===t){for(e=-1;(r=Fn[++e])&&(i(r)||r.hidden););r&&(u(r),Zn(o)),G(n)}else"Tab"===t&&(!An&&r&&u(r),!Sn&&Gn());tt()&&!Jn&&!Vn&&Qn()}}function ct(){Jn=Vn=!1}function lt(){var n=O(jn);null!==n&&vn(h(n)),Xn()}function at(){if(Rn){var n,t,e=O(this);zn=-1,un(this);for(var r=0,i=a(Rn);r<i;++r)n=Rn[r],t=Fn[r],e===O(n)?(zn=r,an(n),sn(t)):(cn(n),ln(t));Yn(),Zn()&&Qn()}}Pn&&!Sn&&(En.size=Sn=i.size),An&&Bn&&(Hn=k(Bn),Rn=Bn.options,Sn=null,Mn&&(D($n,rn),F(jn,Mn))),An&&(M(An,jn),M(An,$n)),M(Wn,An||_n),hn=Wn,T(pn=En).insertBefore(hn,function(n,t){return n.nextSibling||null}(pn));var st,dt,vt,pt=(st=function(t,e,r){var i,u,o=O(t);if(null===o){D($n,On),Un.hidden=!1;for(var f=0,l=a(Fn);f<l;++f)D(u=Fn[f],O(u)),u.hidden=!1}else if(D($n,rn),r!==(o=c(o))&&Z!==e&&"ArrowLeft"!==e&&"ArrowRight"!==e&&nn!==e&&tn!==e){for(var s,d=0,v=a(Fn);d<v;++d)cn((u=Fn[d]).$),ln(u),(s=O(u))&&c(s).includes(o)?(!i&&(i=u),D(u,s.replace(RegExp(o.replace(/[!$^*()+=[]{}|:<>,.?\/-]/g,"\\$&"),"gi"),(function(n){return"<mark>"+n+"</mark>"}))),u.hidden=!1):(D(u,s),u.hidden=!0);i?(zn=i.i,an(i.$),sn(i),Un.hidden=!1):Un.hidden=!0,r=o}else{for(var p,h=0,g=0,b=a(Fn);g<b;++g)u=Fn[g],p=w(u),n("</mark>",p)&&++h;if(h<=1)for(var m,y=0,k=a(Fn);y<k;++y)u=Fn[y],m=O(u),D(u,m),u.hidden=!1}tn!==e&&en!==e&&"Tab"!==e&&(qn(),Qn())},dt=1,function(){var n=arguments,t=this;vt&&clearTimeout(vt),vt=setTimeout((function(){return st.apply(t,n)}),dt)});function ht(n){var t=this,e=n.key;ft(n),pt(t,e,O(t))}function gt(){ct()}var bt=function(n,t){return function(){var e=arguments,r=this;setTimeout((function(){return n.apply(r,e)}),t)}}((function(n,t){var e=O(n);D(t,null!==e?rn:On),F(n,e),un(n)}),1);function mt(){bt(jn,$n)}function yt(n){var t=n.target;if(t!==Wn)for(;(t=T(t))&&Wn!==t;);Wn!==t&&Gn()}function kt(){tt()&&wt(Wn,1)}function xt(e,r){if("optgroup"!==L(e)){var i=function(n,t,e){if(void 0===e&&(e=!0),!$(n,t))return null;var r=n.getAttribute(t);return e?v(r):r}(e,"value",!1),o=i,f=O(e),c=e.title,l=B("a",f,{class:kn,title:c||f});i=i||f,l.i=zn,l.$=e,l.v=i,function(n,t){var e;for(var r in t)(e=t[r])||""===e||0===e?_(n,r,e):N(n,r)}(l,{index:zn,value:o}),u.options[i]=f,e.disabled?W(l,xn+"disabled"):Q("click",l,rt),M(r,l),Fn.push(l),""===o&&(i=null),t(Mn)&&n(i,Mn)||i===Mn?(W(l,xn+"selected"),dn(nt(f,zn,o,x(l,!1))),an(e)):cn(e),++zn}else{var s=B("span",{class:kn+"-group"+(e.disabled?" "+xn+"disabled":"")}),d=k(e);s.title=e.label;for(var p=0,h=a(d);p<h;++p)xt(d[p],s);M(r,s)}}function wt(n,t){if(!Sn){var e=function(n){var t,e,r,i,u,o,f;return P(n)?(i=n.pageXOffset||y.scrollLeft||m.scrollLeft,u=n.pageYOffset||y.scrollTop||m.scrollTop,r=n.innerWidth,t=n.innerHeight):(i=(e=n.getBoundingClientRect()).left,u=e.top,r=e.width,t=e.height,o=e.right,f=e.bottom),[i,u,r,t,o,f]}(n),r=e[0],i=e[1],u=e[2],o=e[3],f=V(b)[1],c=f-i-o;U(Un,{bottom:"",left:r,"max-height":c,top:i+o-Kn,width:u}),c<(f-o)/2?(U(Un,{top:"",bottom:f-i-Dn,"max-height":(c=i)+Kn}),R(n,mn+"down"),W(n,mn+"up")):(R(n,mn+"up"),W(n,mn+"down"))}if(!t){var a=Fn.find((function(n){return C(n,xn+"selected")}));if(a){var s=V(a)[1],d=V(Un)[1],v=function(n){return[n.offsetLeft,n.offsetTop]}(a),p=v[0],h=v[1],g=function(n){return[n.scrollLeft,n.scrollTop]}(Un)[1];h<g?X(Un,[p,h]):h+s-d>g&&X(Un,[p,h+s-d])}}l("fit",A())}!function(n,t,e,r){void 0===r&&(r=!1),n.forEach((function(n){return Q(n,t,e,r)}))}(["resize","scroll"],b,kt),Q("click",Nn,yt),Q("focus",En,et),Q("click",Wn,ut),An?(Q("blur",jn,lt),Q("focus",jn,at),Q("keydown",jn,ht),Q("keyup",jn,gt),Q("paste",jn,mt)):(Q("blur",Wn,it),Q("focus",Wn,ot),Q("keydown",Wn,ft),Q("keyup",Wn,ct));var Lt=a(Hn);if(Lt){M(Wn,Un);for(var Tt=0;Tt<Lt;++Tt)xt(Hn[Tt],Un);if(Sn){var Et=Fn[0],At=V(Et)[1]*Sn;K(Un,"max-height",At)}}return Sn&&(W(Wn,mn+"down"),W(Wn,mn+"open")),u.get=function(n){void 0===n&&(n=!0);var t=j();return n?v(t):t},u.pop=function(){return r.OP?(delete r.OP,function(n,t,e){n.forEach((function(n){return q(n,t,e)}))}(["resize","scroll"],b,kt),q("click",Nn,yt),q("focus",En,et),R(En,bn+"source"),q("click",Wn,ut),An?(q("blur",jn,lt),q("focus",jn,at),q("keydown",jn,ht),q("keyup",jn,gt),q("paste",jn,mt)):(q("blur",Wn,it),q("focus",Wn,ot),q("keydown",Wn,ft),q("keyup",Wn,ct)),function(n){var t="textContent";H(n,t)&&(n[t]="")}(Wn),function(n){var t=T(n);n.remove()}(Wn),l("pop",A())):u},u.set=function(n){return Rn?(vn(h(n)),Fn.forEach((function(n,t){var e=Rn[t];J(n,xn+"selected",e&&fn(e))})),l("change",A()),u):u},u.self=Wn,u}return on.instances={},on.state={class:"option-picker",join:", ",parent:null,size:5},on.version="1.3.9",on}));